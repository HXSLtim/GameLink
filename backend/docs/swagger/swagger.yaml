basePath: /api/v1
definitions:
  admin.AssignOrderPayload:
    properties:
      player_id:
        type: integer
    required:
    - player_id
    type: object
  admin.CancelOrderPayload:
    properties:
      reason:
        type: string
    type: object
  admin.CapturePaymentPayload:
    type: object
  admin.CreateOrderPayload:
    properties:
      currency:
        type: string
      description:
        type: string
      game_id:
        type: integer
      player_id:
        type: integer
      price_cents:
        type: integer
      scheduled_end:
        type: string
      scheduled_start:
        type: string
      title:
        type: string
      user_id:
        type: integer
    required:
    - currency
    - game_id
    - price_cents
    - user_id
    type: object
  admin.CreatePaymentPayload:
    type: object
  admin.CreatePlayerPayload:
    properties:
      bio:
        type: string
      hourly_rate_cents:
        type: integer
      main_game_id:
        type: integer
      nickname:
        type: string
      user_id:
        type: integer
      verification_status:
        type: string
    required:
    - user_id
    - verification_status
    type: object
  admin.CreateReviewPayload:
    properties:
      content:
        type: string
      order_id:
        type: integer
      player_id:
        type: integer
      score:
        type: integer
      user_id:
        type: integer
    required:
    - order_id
    - player_id
    - score
    - user_id
    type: object
  admin.CreateUserPayload:
    properties:
      avatar_url:
        type: string
      email:
        type: string
      name:
        type: string
      password:
        minLength: 6
        type: string
      phone:
        type: string
      role:
        type: string
      status:
        type: string
    required:
    - name
    - password
    - role
    - status
    type: object
  admin.GamePayload:
    properties:
      category:
        type: string
      description:
        type: string
      icon_url:
        type: string
      key:
        type: string
      name:
        type: string
    required:
    - key
    - name
    type: object
  admin.RefundPaymentPayload:
    type: object
  admin.ReviewOrderPayload:
    properties:
      approved:
        type: boolean
      reason:
        type: string
    type: object
  admin.SkillTagsBody:
    properties:
      tags:
        items:
          type: string
        type: array
    required:
    - tags
    type: object
  admin.UpdateOrderPayload:
    properties:
      cancel_reason:
        type: string
      currency:
        type: string
      price_cents:
        type: integer
      scheduled_end:
        type: string
      scheduled_start:
        type: string
      status:
        type: string
    required:
    - currency
    - price_cents
    - status
    type: object
  admin.UpdatePaymentPayload:
    type: object
  admin.UpdatePlayerPayload:
    properties:
      bio:
        type: string
      hourly_rate_cents:
        type: integer
      main_game_id:
        type: integer
      nickname:
        type: string
      verification_status:
        type: string
    required:
    - verification_status
    type: object
  admin.UpdateReviewPayload:
    properties:
      content:
        type: string
      score:
        type: integer
    required:
    - score
    type: object
  admin.UpdateUserPayload:
    properties:
      avatar_url:
        type: string
      email:
        type: string
      name:
        type: string
      password:
        type: string
      phone:
        type: string
      role:
        type: string
      status:
        type: string
    required:
    - name
    - role
    - status
    type: object
  handler.loginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  handler.loginResponse:
    properties:
      expires_at:
        type: string
      token:
        type: string
      user:
        $ref: '#/definitions/model.User'
    type: object
  handler.registerRequest:
    properties:
      email:
        type: string
      name:
        type: string
      password:
        minLength: 6
        type: string
      phone:
        type: string
    required:
    - name
    - password
    type: object
  handler.tokenPayload:
    properties:
      token:
        type: string
    type: object
  model.Role:
    enum:
    - user
    - player
    - admin
    type: string
    x-enum-varnames:
    - RoleUser
    - RolePlayer
    - RoleAdmin
  model.User:
    properties:
      avatar_url:
        type: string
      created_at:
        type: string
      email:
        type: string
      id:
        type: integer
      last_login_at:
        type: string
      name:
        type: string
      phone:
        type: string
      role:
        $ref: '#/definitions/model.Role'
      status:
        $ref: '#/definitions/model.UserStatus'
      updated_at:
        type: string
    type: object
  model.UserStatus:
    enum:
    - active
    - suspended
    - banned
    type: string
    x-enum-varnames:
    - UserStatusActive
    - UserStatusSuspended
    - UserStatusBanned
info:
  contact: {}
  description: GameLink 平台 API，包含健康检查、认证与管理端能力。
  title: GameLink API
  version: 0.3.0
paths:
  /admin/games:
    get:
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 列出游戏
      tags:
      - Admin/Games
    post:
      consumes:
      - application/json
      parameters:
      - description: 游戏信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.GamePayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 创建游戏
      tags:
      - Admin/Games
  /admin/games/{id}:
    delete:
      parameters:
      - description: 游戏ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 删除游戏
      tags:
      - Admin/Games
    get:
      parameters:
      - description: 游戏ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取游戏
      tags:
      - Admin/Games
    put:
      consumes:
      - application/json
      parameters:
      - description: 游戏ID
        in: path
        name: id
        required: true
        type: integer
      - description: 游戏信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.GamePayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新游戏
      tags:
      - Admin/Games
  /admin/orders:
    get:
      description: 根据状态/用户/玩家/游戏和时间范围筛选，支持分页
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      - collectionFormat: csv
        description: 订单状态，可多值
        in: query
        items:
          type: string
        name: status
        type: array
      - description: 用户ID
        in: query
        name: user_id
        type: integer
      - description: 玩家ID
        in: query
        name: player_id
        type: integer
      - description: 游戏ID
        in: query
        name: game_id
        type: integer
      - description: 开始时间
        in: query
        name: date_from
        type: string
      - description: 结束时间
        in: query
        name: date_to
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 列出订单
      tags:
      - Admin/Orders
    post:
      consumes:
      - application/json
      parameters:
      - description: 订单信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.CreateOrderPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 创建订单
      tags:
      - Admin/Orders
  /admin/orders/{id}:
    delete:
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 删除订单
      tags:
      - Admin/Orders
    get:
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取订单
      tags:
      - Admin/Orders
    put:
      consumes:
      - application/json
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: integer
      - description: 订单信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.UpdateOrderPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新订单
      tags:
      - Admin/Orders
  /admin/orders/{id}/assign:
    post:
      consumes:
      - application/json
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: integer
      - description: 指派信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.AssignOrderPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 指派订单的陪玩师
      tags:
      - Admin/Orders
  /admin/orders/{id}/cancel:
    post:
      consumes:
      - application/json
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: integer
      - description: 取消原因
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.CancelOrderPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 取消订单
      tags:
      - Admin/Orders
  /admin/orders/{id}/logs:
    get:
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: integer
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取订单操作日志
      tags:
      - Admin/Orders
  /admin/orders/{id}/review:
    post:
      consumes:
      - application/json
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: integer
      - description: 审核信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.ReviewOrderPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 审核订单（通过/拒绝）
      tags:
      - Admin/Orders
  /admin/payments:
    get:
      description: 根据状态/方法/用户/订单和时间范围筛选，支持分页
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      - collectionFormat: csv
        description: 支付状态
        in: query
        items:
          type: string
        name: status
        type: array
      - collectionFormat: csv
        description: 支付方式
        in: query
        items:
          type: string
        name: method
        type: array
      - description: 用户ID
        in: query
        name: user_id
        type: integer
      - description: 订单ID
        in: query
        name: order_id
        type: integer
      - description: 开始时间
        in: query
        name: date_from
        type: string
      - description: 结束时间
        in: query
        name: date_to
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 列出支付
      tags:
      - Admin/Payments
    post:
      consumes:
      - application/json
      parameters:
      - description: 支付信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.CreatePaymentPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 创建支付记录
      tags:
      - Admin/Payments
  /admin/payments/{id}:
    delete:
      parameters:
      - description: 支付ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 删除支付
      tags:
      - Admin/Payments
    get:
      parameters:
      - description: 支付ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取支付
      tags:
      - Admin/Payments
    put:
      consumes:
      - application/json
      parameters:
      - description: 支付ID
        in: path
        name: id
        required: true
        type: integer
      - description: 支付信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.UpdatePaymentPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新支付
      tags:
      - Admin/Payments
  /admin/payments/{id}/capture:
    post:
      consumes:
      - application/json
      parameters:
      - description: 支付ID
        in: path
        name: id
        required: true
        type: integer
      - description: 入账信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.CapturePaymentPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 确认支付入账
      tags:
      - Admin/Payments
  /admin/payments/{id}/logs:
    get:
      parameters:
      - description: 支付ID
        in: path
        name: id
        required: true
        type: integer
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取支付操作日志
      tags:
      - Admin/Payments
  /admin/payments/{id}/refund:
    post:
      consumes:
      - application/json
      parameters:
      - description: 支付ID
        in: path
        name: id
        required: true
        type: integer
      - description: 退款信息
        in: body
        name: request
        schema:
          $ref: '#/definitions/admin.RefundPaymentPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 退款处理
      tags:
      - Admin/Payments
  /admin/players:
    get:
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 列出玩家资料
      tags:
      - Admin/Players
    post:
      consumes:
      - application/json
      parameters:
      - description: 玩家信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.CreatePlayerPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 新建玩家资料
      tags:
      - Admin/Players
  /admin/players/{id}:
    delete:
      parameters:
      - description: 玩家ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 删除玩家资料
      tags:
      - Admin/Players
    get:
      parameters:
      - description: 玩家ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取玩家资料
      tags:
      - Admin/Players
    put:
      consumes:
      - application/json
      parameters:
      - description: 玩家ID
        in: path
        name: id
        required: true
        type: integer
      - description: 玩家信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.UpdatePlayerPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新玩家资料
      tags:
      - Admin/Players
  /admin/players/{id}/games:
    put:
      consumes:
      - application/json
      parameters:
      - description: 玩家ID
        in: path
        name: id
        required: true
        type: integer
      - description: '{main_game_id}'
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            format: int64
            type: integer
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新玩家主游戏
      tags:
      - Admin/Players
  /admin/players/{id}/reviews:
    get:
      parameters:
      - description: 陪玩师ID
        in: path
        name: id
        required: true
        type: integer
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取陪玩师的评价
      tags:
      - Admin/Players
  /admin/players/{id}/skill-tags:
    put:
      consumes:
      - application/json
      parameters:
      - description: 玩家ID
        in: path
        name: id
        required: true
        type: integer
      - description: 标签集合
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.SkillTagsBody'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新玩家技能标签
      tags:
      - Admin/Players
  /admin/players/{id}/verification:
    put:
      consumes:
      - application/json
      parameters:
      - description: 玩家ID
        in: path
        name: id
        required: true
        type: integer
      - description: '{verification_status}'
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新玩家认证状态
      tags:
      - Admin/Players
  /admin/reviews:
    get:
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 订单ID
        in: query
        name: order_id
        type: integer
      - description: 用户ID
        in: query
        name: user_id
        type: integer
      - description: 陪玩师ID
        in: query
        name: player_id
        type: integer
      - description: 开始时间
        in: query
        name: date_from
        type: string
      - description: 结束时间
        in: query
        name: date_to
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 评价列表
      tags:
      - Admin/Reviews
    post:
      consumes:
      - application/json
      parameters:
      - description: 评价
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.CreateReviewPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 创建评价
      tags:
      - Admin/Reviews
  /admin/reviews/{id}:
    delete:
      parameters:
      - description: 评价ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 删除评价
      tags:
      - Admin/Reviews
    get:
      parameters:
      - description: 评价ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取评价
      tags:
      - Admin/Reviews
    put:
      consumes:
      - application/json
      parameters:
      - description: 评价ID
        in: path
        name: id
        required: true
        type: integer
      - description: 评价
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.UpdateReviewPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新评价
      tags:
      - Admin/Reviews
  /admin/stats/dashboard:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Dashboard 概览
      tags:
      - Admin/Stats
  /admin/stats/orders:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 订单状态统计
      tags:
      - Admin/Stats
  /admin/stats/revenue-trend:
    get:
      parameters:
      - description: 天数，默认7
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 收入趋势（日）
      tags:
      - Admin/Stats
  /admin/stats/top-players:
    get:
      parameters:
      - description: 数量，默认10
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Top 陪玩师排行
      tags:
      - Admin/Stats
  /admin/stats/user-growth:
    get:
      parameters:
      - description: 天数，默认7
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 用户增长（日）
      tags:
      - Admin/Stats
  /admin/users:
    get:
      description: 分页列出用户，支持按角色/状态/时间范围/关键字筛选
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      - collectionFormat: csv
        description: 角色过滤，可多值
        in: query
        items:
          type: string
        name: role
        type: array
      - collectionFormat: csv
        description: 状态过滤，可多值
        in: query
        items:
          type: string
        name: status
        type: array
      - description: 开始时间
        in: query
        name: date_from
        type: string
      - description: 结束时间
        in: query
        name: date_to
        type: string
      - description: 关键字（匹配 name/email/phone）
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 列出用户
      tags:
      - Admin/Users
    post:
      consumes:
      - application/json
      parameters:
      - description: 用户信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.CreateUserPayload'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 创建用户
      tags:
      - Admin/Users
  /admin/users/{id}:
    delete:
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 删除用户
      tags:
      - Admin/Users
    get:
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取用户
      tags:
      - Admin/Users
    put:
      consumes:
      - application/json
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: 用户信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.UpdateUserPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新用户
      tags:
      - Admin/Users
  /admin/users/{id}/orders:
    get:
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      - collectionFormat: csv
        description: 订单状态
        in: query
        items:
          type: string
        name: status
        type: array
      - description: 开始时间
        in: query
        name: date_from
        type: string
      - description: 结束时间
        in: query
        name: date_to
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取用户的订单
      tags:
      - Admin/Users
  /admin/users/{id}/role:
    put:
      consumes:
      - application/json
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: '{role}'
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新用户角色
      tags:
      - Admin/Users
  /admin/users/{id}/status:
    put:
      consumes:
      - application/json
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: '{status}'
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 更新用户状态
      tags:
      - Admin/Users
  /auth/login:
    post:
      consumes:
      - application/json
      description: 用户名（邮箱或手机号）+ 密码登录，返回 JWT
      parameters:
      - description: 登录凭据
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handler.loginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.loginResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
      summary: 登录
      tags:
      - Auth
  /auth/logout:
    post:
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 登出（前端丢弃 Token）
      tags:
      - Auth
  /auth/me:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.loginResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 获取当前用户信息
      tags:
      - Auth
  /auth/refresh:
    post:
      description: '使用 Authorization: Bearer <token> 刷新 JWT'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.tokenPayload'
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 刷新 Token
      tags:
      - Auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: 邮箱或手机号 + 密码注册，默认角色为 user
      parameters:
      - description: 注册信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handler.registerRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.loginResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      summary: 注册
      tags:
      - Auth
schemes:
- http
- https
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
