# Mock ç™»å½•ä½¿ç”¨æŒ‡å—

**æ›´æ–°æ—¥æœŸ**: 2025-10-28  
**åŠŸèƒ½**: Mock æ¨¡æ‹Ÿç™»å½•ï¼ˆæ— éœ€åç«¯ï¼‰  
**çŠ¶æ€**: âœ… å·²å¯ç”¨

---

## ğŸ¯ åŠŸèƒ½è¯´æ˜

ç°åœ¨ç™»å½•åŠŸèƒ½å·²æ›´æ–°ä¸º **Mock æ¨¡å¼**ï¼Œå¯ä»¥ä½¿ç”¨**ä»»æ„ç”¨æˆ·åå’Œå¯†ç **ç›´æ¥ç™»å½•è¿›å…¥ç³»ç»Ÿï¼Œæ— éœ€è¿æ¥åç«¯ APIã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨é¡¹ç›®

```bash
npm run dev
```

è®¿é—®: http://localhost:5173

### 2. ç™»å½•æµ‹è¯•

åœ¨ç™»å½•é¡µé¢è¾“å…¥ï¼š

#### ğŸ‘¤ æ–¹æ¡ˆä¸€ï¼šç®¡ç†å‘˜è´¦å·

- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: ä»»æ„ï¼ˆè‡³å°‘6ä¸ªå­—ç¬¦ï¼‰

ç™»å½•åç”¨æˆ·è§’è‰²æ˜¾ç¤ºä¸º `admin`

#### ğŸ‘¤ æ–¹æ¡ˆäºŒï¼šæ™®é€šç”¨æˆ·

- **ç”¨æˆ·å**: ä»»æ„ï¼ˆè‡³å°‘3ä¸ªå­—ç¬¦ï¼‰
- **å¯†ç **: ä»»æ„ï¼ˆè‡³å°‘6ä¸ªå­—ç¬¦ï¼‰

ç™»å½•åç”¨æˆ·è§’è‰²æ˜¾ç¤ºä¸º `user`

#### ç¤ºä¾‹

```
ç”¨æˆ·å: test
å¯†ç : 123456
```

```
ç”¨æˆ·å: alice
å¯†ç : password
```

```
ç”¨æˆ·å: admin
å¯†ç : admin123
```

**âœ¨ æ‰€æœ‰è´¦å·éƒ½å¯ä»¥æˆåŠŸç™»å½•ï¼**

---

## ğŸ“ Mock ç™»å½•å®ç°

### ä»£ç ä½ç½®

**æ–‡ä»¶**: `src/contexts/AuthContext.tsx`

### æ ¸å¿ƒåŠŸèƒ½

```typescript
// ç™»å½•æ–¹æ³• (Mock å®ç°)
const login = async (username: string, password: string) => {
  // 1. æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ 800ms
  await new Promise((resolve) => setTimeout(resolve, 800));

  // 2. åŸºç¡€éªŒè¯
  if (!username || !password) {
    throw new Error('ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©º');
  }

  // 3. ç”Ÿæˆ Mock Token
  const mockToken = `mock-token-${Date.now()}-${randomString}`;

  // 4. åˆ›å»º Mock ç”¨æˆ·ä¿¡æ¯
  const mockUser = {
    id: Math.floor(Math.random() * 1000),
    username: username,
    email: `${username}@gamelink.com`,
    role: username === 'admin' ? 'admin' : 'user',
    avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${username}`,
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
  };

  // 5. ä¿å­˜åˆ° localStorage
  storage.setItem(STORAGE_KEYS.token, mockToken);
  storage.setItem(STORAGE_KEYS.user, mockUser);

  // 6. æ›´æ–°çŠ¶æ€
  setToken(mockToken);
  setUser(mockUser);
};
```

### Mock ç”¨æˆ·æ•°æ®ç»“æ„

```typescript
{
  id: 123,                                    // éšæœºç”Ÿæˆ
  username: "admin",                          // ä½ è¾“å…¥çš„ç”¨æˆ·å
  email: "admin@gamelink.com",               // è‡ªåŠ¨ç”Ÿæˆ
  role: "admin",                              // admin ç”¨æˆ·å = admin è§’è‰²
  avatar: "https://api.dicebear.com/...",    // éšæœºå¤´åƒ
  createdAt: "2025-10-28T10:30:00.000Z",
  updatedAt: "2025-10-28T10:30:00.000Z"
}
```

---

## ğŸ” ç™»å½•è§„åˆ™

### éªŒè¯è§„åˆ™

1. **ç”¨æˆ·å**: å¿…å¡«ï¼Œæœ€å°‘ 3 ä¸ªå­—ç¬¦
2. **å¯†ç **: å¿…å¡«ï¼Œæœ€å°‘ 6 ä¸ªå­—ç¬¦

### è§’è‰²åˆ†é…

- ç”¨æˆ·å = `admin` â†’ è§’è‰² = `admin`
- å…¶ä»–ç”¨æˆ·å â†’ è§’è‰² = `user`

### Token ç”Ÿæˆ

```
mock-token-1698483000000-a1b2c3d4e
         â””â”€æ—¶é—´æˆ³â”€â”˜  â””â”€éšæœºå­—ç¬¦ä¸²â”€â”˜
```

---

## ğŸ’¾ æ•°æ®æŒä¹…åŒ–

### å­˜å‚¨ä½ç½®

ç™»å½•ä¿¡æ¯ä¿å­˜åœ¨æµè§ˆå™¨çš„ `localStorage` ä¸­ï¼š

| Key              | Value                 | è¯´æ˜         |
| ---------------- | --------------------- | ------------ |
| `gamelink_token` | mock-token-xxx        | Mock Token   |
| `gamelink_user`  | { id, username, ... } | ç”¨æˆ·ä¿¡æ¯å¯¹è±¡ |

### æŸ¥çœ‹å­˜å‚¨

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼š

```
Application â†’ Storage â†’ Local Storage â†’ http://localhost:5173
```

ä½ ä¼šçœ‹åˆ°ï¼š

```
gamelink_token: "mock-token-1698483000000-a1b2c3d4e"
gamelink_user: {"id":123,"username":"admin",...}
```

### è‡ªåŠ¨æ¢å¤

åˆ·æ–°é¡µé¢åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä» localStorage æ¢å¤ç™»å½•çŠ¶æ€ï¼Œæ— éœ€é‡æ–°ç™»å½•ã€‚

---

## ğŸ”„ ç™»å½•æµç¨‹

### å®Œæ•´æµç¨‹

```
1. ç”¨æˆ·è®¿é—® / æˆ– /dashboard
      â†“
2. ProtectedRoute æ£€æŸ¥ç™»å½•çŠ¶æ€
      â†“
3. æœªç™»å½• â†’ é‡å®šå‘åˆ° /login
      â†“
4. ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
      â†“
5. ç‚¹å‡»"ç™»å½•"æŒ‰é’®
      â†“
6. AuthContext.login(username, password)
      â†“
7. éªŒè¯é€šè¿‡ â†’ ç”Ÿæˆ Mock æ•°æ®
      â†“
8. ä¿å­˜åˆ° localStorage
      â†“
9. æ›´æ–° React Context çŠ¶æ€
      â†“
10. navigate('/dashboard')
      â†“
11. æ˜¾ç¤ºä»ªè¡¨ç›˜ï¼ˆå¸¦ Header + Sidebarï¼‰
```

### é¡µé¢åˆ·æ–°æµç¨‹

```
1. é¡µé¢åˆ·æ–°
      â†“
2. AuthContext åˆå§‹åŒ–
      â†“
3. ä» localStorage è¯»å– token å’Œ user
      â†“
4. å¦‚æœå­˜åœ¨ â†’ æ¢å¤ç™»å½•çŠ¶æ€
      â†“
5. å¦‚æœä¸å­˜åœ¨ â†’ ä¿æŒæœªç™»å½•
```

---

## ğŸšª é€€å‡ºç™»å½•

### æ“ä½œæ­¥éª¤

1. ç‚¹å‡»å³ä¸Šè§’ç”¨æˆ·å
2. ä¸‹æ‹‰èœå•ä¸­ç‚¹å‡»"é€€å‡ºç™»å½•"
3. æ¸…é™¤ localStorage æ•°æ®
4. è·³è½¬åˆ°ç™»å½•é¡µ

### å®ç°ä»£ç 

```typescript
const logout = () => {
  // æ¸…é™¤å­˜å‚¨
  storage.removeItem(STORAGE_KEYS.token);
  storage.removeItem(STORAGE_KEYS.user);

  // æ¸…é™¤çŠ¶æ€
  setToken(null);
  setUser(null);

  console.log('âœ… é€€å‡ºç™»å½•æˆåŠŸ');
};
```

---

## ğŸ¨ ç”¨æˆ·ç•Œé¢æ˜¾ç¤º

### Header æ˜¾ç¤º

ç™»å½•åï¼ŒHeader å³ä¸Šè§’æ˜¾ç¤ºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ admin    â–¼   â”‚  â† ç‚¹å‡»å±•å¼€ä¸‹æ‹‰èœå•
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

å±•å¼€åï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ admin            â”‚
â”‚ admin            â”‚  â† ç”¨æˆ·å
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸšª é€€å‡ºç™»å½•      â”‚  â† ç‚¹å‡»é€€å‡º
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Sidebar èœå•

æ ¹æ®è§’è‰²æ˜¾ç¤ºä¸åŒèœå•ï¼ˆå½“å‰æ‰€æœ‰è§’è‰²çœ‹åˆ°ç›¸åŒèœå•ï¼‰ï¼š

- ğŸ  ä»ªè¡¨ç›˜
- ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- ğŸ“¦ è®¢å•ç®¡ç†
- âš™ï¸ ç³»ç»Ÿè®¾ç½®

---

## ğŸ” è°ƒè¯•ä¿¡æ¯

### Console æ—¥å¿—

ç™»å½•æˆåŠŸåï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºï¼š

```javascript
âœ… Mock ç™»å½•æˆåŠŸ: {
  username: "admin",
  token: "mock-token-1698483000000-a1b2c3d4e"
}
```

é€€å‡ºç™»å½•åï¼š

```javascript
âœ… é€€å‡ºç™»å½•æˆåŠŸ
```

### ç½‘ç»œè¯·æ±‚

Mock æ¨¡å¼ä¸‹**ä¸ä¼šå‘é€ä»»ä½•ç½‘ç»œè¯·æ±‚**ï¼Œæ‰€æœ‰æ“ä½œéƒ½åœ¨å‰ç«¯å®Œæˆã€‚

---

## ğŸ“Š ä¸çœŸå®ç™»å½•çš„åŒºåˆ«

| ç‰¹æ€§       | Mock ç™»å½•       | çœŸå®ç™»å½•               |
| ---------- | --------------- | ---------------------- |
| åç«¯ API   | âŒ ä¸éœ€è¦       | âœ… éœ€è¦                |
| ç½‘ç»œè¯·æ±‚   | âŒ æ—            | âœ… æœ‰                  |
| Token éªŒè¯ | âŒ ä¸éªŒè¯       | âœ… éªŒè¯                |
| ç”¨æˆ·æ•°æ®   | ğŸ”§ å‰ç«¯ç”Ÿæˆ     | ğŸ“¡ åç«¯è¿”å›            |
| è§’è‰²æƒé™   | ğŸ”§ ç®€å•åˆ¤æ–­     | ğŸ“¡ åç«¯æ§åˆ¶            |
| æ•°æ®æŒä¹…åŒ– | ğŸ’¾ localStorage | ğŸ’¾ localStorage + åç«¯ |

---

## ğŸ”„ åˆ‡æ¢åˆ°çœŸå®ç™»å½•

### éœ€è¦çš„æ­¥éª¤

1. **åç«¯å‡†å¤‡**
   - å®ç°ç™»å½• API: `POST /api/v1/auth/login`
   - å®ç°è·å–ç”¨æˆ·ä¿¡æ¯ API: `GET /api/v1/auth/me`

2. **å‰ç«¯ä¿®æ”¹**

```typescript
// src/contexts/AuthContext.tsx

// æ›¿æ¢ Mock å®ç°
const login = async (username: string, password: string) => {
  setLoginLoading(true);

  try {
    // è°ƒç”¨çœŸå® API
    const response = await fetch('/api/v1/auth/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ username, password }),
    });

    if (!response.ok) {
      throw new Error('ç™»å½•å¤±è´¥');
    }

    const { token } = await response.json();

    // ä¿å­˜ token
    storage.setItem(STORAGE_KEYS.token, token);
    setToken(token);

    // è·å–ç”¨æˆ·ä¿¡æ¯
    const userResponse = await fetch('/api/v1/auth/me', {
      headers: { Authorization: `Bearer ${token}` },
    });

    const user = await userResponse.json();
    storage.setItem(STORAGE_KEYS.user, user);
    setUser(user);
  } finally {
    setLoginLoading(false);
  }
};
```

---

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q1: åˆ·æ–°é¡µé¢åè¿˜æ˜¯ç™»å½•çŠ¶æ€å—ï¼Ÿ

**A**: âœ… æ˜¯çš„ã€‚ç™»å½•ä¿¡æ¯ä¿å­˜åœ¨ localStorage ä¸­ï¼Œåˆ·æ–°é¡µé¢ä¼šè‡ªåŠ¨æ¢å¤ã€‚

### Q2: å¯ä»¥åŒæ—¶å¤šä¸ªè´¦å·ç™»å½•å—ï¼Ÿ

**A**: âŒ ä¸å¯ä»¥ã€‚æ–°ç™»å½•ä¼šè¦†ç›–æ—§çš„ç™»å½•ä¿¡æ¯ï¼ˆlocalStorage åªä¿å­˜ä¸€ä»½ï¼‰ã€‚

### Q3: å¯†ç ä¼šè¢«éªŒè¯å—ï¼Ÿ

**A**: âŒ Mock æ¨¡å¼ä¸‹ä¸ä¼šéªŒè¯å¯†ç ï¼Œä»»ä½•å¯†ç éƒ½å¯ä»¥ç™»å½•ï¼ˆåªè¦é•¿åº¦ â‰¥ 6ï¼‰ã€‚

### Q4: å¦‚ä½•æ¸…é™¤ç™»å½•çŠ¶æ€ï¼Ÿ

**A**:

- æ–¹æ³•1: ç‚¹å‡»"é€€å‡ºç™»å½•"
- æ–¹æ³•2: æ¸…é™¤æµè§ˆå™¨ localStorage
- æ–¹æ³•3: æ‰“å¼€å¼€å‘è€…å·¥å…·æ‰§è¡Œ: `localStorage.clear()`

### Q5: Token ä¼šè¿‡æœŸå—ï¼Ÿ

**A**: âŒ Mock Token ä¸ä¼šè¿‡æœŸï¼Œæ°¸ä¹…æœ‰æ•ˆï¼ˆé™¤éæ‰‹åŠ¨æ¸…é™¤ï¼‰ã€‚

### Q6: å¯ä»¥è‡ªå®šä¹‰ç”¨æˆ·ä¿¡æ¯å—ï¼Ÿ

**A**: âœ… å¯ä»¥ã€‚ä¿®æ”¹ `AuthContext.tsx` ä¸­çš„ `mockUser` å¯¹è±¡ã€‚

---

## ğŸ¯ æœ€ä½³å®è·µ

### å¼€å‘é˜¶æ®µ

```typescript
// âœ… ä½¿ç”¨ Mock ç™»å½•
// ä¼˜ç‚¹ï¼š
// - ä¸ä¾èµ–åç«¯
// - å¿«é€Ÿå¼€å‘
// - éšæ—¶å¯ç™»å½•

// å»ºè®®çš„æµ‹è¯•è´¦å·ï¼š
admin / 123456; // ç®¡ç†å‘˜
user / 123456; // æ™®é€šç”¨æˆ·
test / 123456; // æµ‹è¯•ç”¨æˆ·
```

### æµ‹è¯•é˜¶æ®µ

```typescript
// æµ‹è¯•ä¸åŒè§’è‰²
admin â†’ æµ‹è¯•ç®¡ç†å‘˜åŠŸèƒ½
user  â†’ æµ‹è¯•æ™®é€šç”¨æˆ·åŠŸèƒ½

// æµ‹è¯•é•¿ç”¨æˆ·å
verylongusername123 / 123456
```

### ç”Ÿäº§ç¯å¢ƒ

```typescript
// âŒ ä¸è¦ä½¿ç”¨ Mock ç™»å½•
// âœ… åˆ‡æ¢åˆ°çœŸå®ç™»å½• API
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¯¼èˆªç³»ç»Ÿæ–‡æ¡£](./NAVIGATION_SYSTEM.md)
- [è®¾è®¡ç³»ç»Ÿæ–‡æ¡£](./DESIGN_SYSTEM_V2.md)
- [è·¯ç”±å®ˆå«æ–‡æ¡£](./NAVIGATION_SYSTEM.md#4-è·¯ç”±å®ˆå«)

---

## âœ… æµ‹è¯•æ¸…å•

- [x] ä»»æ„ç”¨æˆ·åå¯†ç å¯ç™»å½•
- [x] admin ç”¨æˆ·åæ˜¾ç¤º admin è§’è‰²
- [x] å…¶ä»–ç”¨æˆ·åæ˜¾ç¤º user è§’è‰²
- [x] ç™»å½•åè·³è½¬åˆ° dashboard
- [x] Header æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
- [x] åˆ·æ–°é¡µé¢ä¿æŒç™»å½•çŠ¶æ€
- [x] é€€å‡ºç™»å½•åŠŸèƒ½æ­£å¸¸
- [x] localStorage æ­£ç¡®å­˜å‚¨æ•°æ®
- [x] æ§åˆ¶å°è¾“å‡ºæ­£ç¡®æ—¥å¿—

---

**æ›´æ–°è€…**: GameLink Frontend Team  
**æ¨¡å¼**: Mock ç™»å½•ï¼ˆå¼€å‘æ¨¡å¼ï¼‰  
**æœ€åæ›´æ–°**: 2025-10-28

---

<div align="center">

## ğŸ‰ ç°åœ¨å¯ä»¥ç”¨ä»»æ„è´¦å·ç™»å½•äº†ï¼

**No Backend Required**

âš«âšª **ç®€å• Â· å¿«é€Ÿ Â· å¼€ç®±å³ç”¨**

</div>
