# ğŸ® GameLink ç”¨æˆ·ä¾§å‰åç«¯å¼€å‘è§„åˆ’

**è§„åˆ’æ—¶é—´**: 2025å¹´10æœˆ30æ—¥  
**é¡¹ç›®é˜¶æ®µ**: ç”¨æˆ·ä¾§ï¼ˆCç«¯ï¼‰å¼€å‘  
**ç›®æ ‡**: ä¸ºæ™®é€šç”¨æˆ·å’Œé™ªç©å¸ˆæä¾›å®Œæ•´çš„ä¸šåŠ¡åŠŸèƒ½

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [ä¸šåŠ¡æµç¨‹](#ä¸šåŠ¡æµç¨‹)
- [åŠŸèƒ½æ¨¡å—è§„åˆ’](#åŠŸèƒ½æ¨¡å—è§„åˆ’)
- [åç«¯ API è§„åˆ’](#åç«¯-api-è§„åˆ’)
- [å‰ç«¯é¡µé¢è§„åˆ’](#å‰ç«¯é¡µé¢è§„åˆ’)
- [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
- [å¼€å‘é˜¶æ®µ](#å¼€å‘é˜¶æ®µ)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)

---

## ğŸ“– é¡¹ç›®æ¦‚è¿°

### ä¸šåŠ¡å®šä½
GameLink æ˜¯ä¸€ä¸ª**æ¸¸æˆé™ªç©æœåŠ¡å¹³å°**ï¼Œè¿æ¥æ™®é€šç©å®¶ä¸ä¸“ä¸šé™ªç©å¸ˆã€‚

### ç”¨æˆ·è§’è‰²

| è§’è‰² | è¯´æ˜ | ä¸»è¦åŠŸèƒ½ |
|------|------|----------|
| **æ™®é€šç”¨æˆ·** | éœ€è¦é™ªç©æœåŠ¡çš„ç©å®¶ | æµè§ˆé™ªç©å¸ˆã€ä¸‹å•ã€æ”¯ä»˜ã€è¯„ä»· |
| **é™ªç©å¸ˆ** | æä¾›é™ªç©æœåŠ¡çš„ä¸“ä¸šç©å®¶ | å±•ç¤ºæŠ€èƒ½ã€æ¥å•ã€å®Œæˆè®¢å•ã€æ”¶ç›Šç®¡ç† |
| **ç®¡ç†å‘˜** | å¹³å°è¿è¥äººå‘˜ | å®¡æ ¸ã€ç®¡ç†ã€æ•°æ®åˆ†æï¼ˆå·²å®Œæˆï¼‰ |

---

## ğŸ”„ ä¸šåŠ¡æµç¨‹

### æ ¸å¿ƒæµç¨‹å›¾

```
[æ™®é€šç”¨æˆ·] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> [é™ªç©å¸ˆ]
    â”‚                                                         â”‚
    â”‚ 1. æµè§ˆé™ªç©å¸ˆåˆ—è¡¨                                      â”‚
    â”‚ 2. æŸ¥çœ‹é™ªç©å¸ˆè¯¦æƒ…                                      â”‚
    â”‚ 3. é€‰æ‹©æ¸¸æˆ & æ—¶æ®µ                                     â”‚
    â”‚ 4. åˆ›å»ºè®¢å• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> è®¢å•é€šçŸ¥ â”€â”€â”€â”€â”€â”€â”€â”€> â”‚ 5. æ¥å•
    â”‚                                                         â”‚
    â”‚ 6. æ”¯ä»˜è®¢å•                                            â”‚ 7. ç¡®è®¤å¼€å§‹
    â”‚                                                         â”‚
    â”‚ 8. æ¸¸æˆè¿›è¡Œä¸­ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
    â”‚                                                         â”‚
    â”‚ 9. ç¡®è®¤å®Œæˆ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚ 10. ç¡®è®¤å®Œæˆ
    â”‚                                                         â”‚
    â”‚ 11. è¯„ä»·è®¢å•                                           â”‚
    â”‚                                                         â”‚
    v                                                         v
 [è®¢å•å®Œæˆ]                                              [è·å¾—æ”¶ç›Š]
```

### è®¢å•çŠ¶æ€æµè½¬

```
pendingï¼ˆå¾…æ”¯ä»˜ï¼‰
    â†“ ç”¨æˆ·æ”¯ä»˜
confirmedï¼ˆå·²æ”¯ä»˜ï¼Œå¾…æ¥å•ï¼‰
    â†“ é™ªç©å¸ˆæ¥å•
in_progressï¼ˆè¿›è¡Œä¸­ï¼‰
    â†“ åŒæ–¹ç¡®è®¤å®Œæˆ
completedï¼ˆå·²å®Œæˆï¼‰
    â†“ ç”¨æˆ·è¯„ä»·
[å¯è¯„ä»·çŠ¶æ€]

å–æ¶ˆæµç¨‹ï¼š
pending â†’ canceledï¼ˆæœªæ”¯ä»˜å¯ç›´æ¥å–æ¶ˆï¼‰
confirmed â†’ canceledï¼ˆå·²æ”¯ä»˜éœ€é€€æ¬¾ï¼‰
    â†“
refundedï¼ˆå·²é€€æ¬¾ï¼‰
```

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—è§„åˆ’

### 1. ç”¨æˆ·ç«¯åŠŸèƒ½

#### 1.1 é¦–é¡µæ¨¡å—
- [ ] **æ¸¸æˆåˆ†ç±»å±•ç¤º**
  - çƒ­é—¨æ¸¸æˆå¡ç‰‡å±•ç¤º
  - æ¸¸æˆåˆ†ç±»ç­›é€‰
  - æœç´¢åŠŸèƒ½
- [ ] **æ¨èé™ªç©å¸ˆ**
  - çƒ­é—¨é™ªç©å¸ˆæ¨è
  - è¯„åˆ†æ’åº
  - åœ¨çº¿çŠ¶æ€æ˜¾ç¤º

#### 1.2 é™ªç©å¸ˆæ¨¡å—
- [ ] **é™ªç©å¸ˆåˆ—è¡¨**
  - æŒ‰æ¸¸æˆç­›é€‰
  - æŒ‰ä»·æ ¼åŒºé—´ç­›é€‰
  - æŒ‰è¯„åˆ†ç­›é€‰
  - æŒ‰åœ¨çº¿çŠ¶æ€ç­›é€‰
  - åˆ†é¡µåŠ è½½
- [ ] **é™ªç©å¸ˆè¯¦æƒ…é¡µ**
  - åŸºæœ¬ä¿¡æ¯ï¼ˆæ˜µç§°ã€å¤´åƒã€ç®€ä»‹ï¼‰
  - æ“…é•¿æ¸¸æˆã€æ®µä½ä¿¡æ¯
  - æœåŠ¡ä»·æ ¼ï¼ˆæ—¶è–ªï¼‰
  - è¯„ä»·åˆ—è¡¨
  - å†å²è®¢å•æ•°ã€å¥½è¯„ç‡
  - è®¤è¯çŠ¶æ€
  - åœ¨çº¿çŠ¶æ€
- [ ] **é¢„çº¦ä¸‹å•**
  - é€‰æ‹©æ¸¸æˆ
  - é€‰æ‹©æ—¶é•¿
  - é€‰æ‹©æ—¶é—´æ®µ
  - ä»·æ ¼è®¡ç®—
  - å¤‡æ³¨éœ€æ±‚

#### 1.3 è®¢å•æ¨¡å—
- [ ] **æˆ‘çš„è®¢å•åˆ—è¡¨**
  - å…¨éƒ¨è®¢å•
  - å¾…æ”¯ä»˜
  - è¿›è¡Œä¸­
  - å·²å®Œæˆ
  - å·²å–æ¶ˆ/é€€æ¬¾
  - è®¢å•æœç´¢
- [ ] **è®¢å•è¯¦æƒ…é¡µ**
  - è®¢å•ä¿¡æ¯
  - é™ªç©å¸ˆä¿¡æ¯
  - è®¢å•çŠ¶æ€
  - æ“ä½œæŒ‰é’®ï¼ˆæ”¯ä»˜ã€å–æ¶ˆã€ç¡®è®¤å®Œæˆã€è¯„ä»·ï¼‰
  - è®¢å•æ—¶é—´è½´
  - è”ç³»é™ªç©å¸ˆï¼ˆèŠå¤©å…¥å£ï¼‰

#### 1.4 æ”¯ä»˜æ¨¡å—
- [ ] **æ”¯ä»˜é¡µé¢**
  - è®¢å•ä¿¡æ¯ç¡®è®¤
  - æ”¯ä»˜æ–¹å¼é€‰æ‹©ï¼ˆå¾®ä¿¡ã€æ”¯ä»˜å®ï¼‰
  - ä¼˜æƒ åˆ¸é€‰æ‹©
  - ä»·æ ¼æ˜ç»†
  - æ”¯ä»˜æŒ‰é’®
- [ ] **æ”¯ä»˜ç»“æœé¡µ**
  - æ”¯ä»˜æˆåŠŸ/å¤±è´¥æç¤º
  - è®¢å•è¯¦æƒ…è·³è½¬
  - ç»§ç»­æµè§ˆ

#### 1.5 è¯„ä»·æ¨¡å—
- [ ] **è®¢å•è¯„ä»·**
  - æ˜Ÿçº§è¯„åˆ†ï¼ˆ1-5æ˜Ÿï¼‰
  - æ–‡å­—è¯„ä»·
  - æ ‡ç­¾é€‰æ‹©ï¼ˆæŠ€æœ¯å¥½ã€æ€åº¦å¥½ç­‰ï¼‰
  - åŒ¿åè¯„ä»·é€‰é¡¹

#### 1.6 ä¸ªäººä¸­å¿ƒ
- [ ] **ä¸ªäººä¿¡æ¯**
  - å¤´åƒã€æ˜µç§°ç¼–è¾‘
  - è”ç³»æ–¹å¼ç®¡ç†
  - å¯†ç ä¿®æ”¹
- [ ] **æˆ‘çš„é’±åŒ…**
  - ä½™é¢æŸ¥è¯¢
  - å……å€¼åŠŸèƒ½
  - æ¶ˆè´¹è®°å½•
  - é€€æ¬¾è®°å½•
- [ ] **æ¶ˆæ¯é€šçŸ¥**
  - è®¢å•é€šçŸ¥
  - ç³»ç»Ÿé€šçŸ¥
  - ä¼˜æƒ æ´»åŠ¨

### 2. é™ªç©å¸ˆç«¯åŠŸèƒ½

#### 2.1 é™ªç©å¸ˆä¸­å¿ƒ
- [ ] **ç”³è¯·æˆä¸ºé™ªç©å¸ˆ**
  - å¡«å†™åŸºæœ¬ä¿¡æ¯
  - é€‰æ‹©æ“…é•¿æ¸¸æˆ
  - ä¸Šä¼ æ®µä½è¯æ˜
  - è®¾ç½®æœåŠ¡ä»·æ ¼
  - æäº¤å®¡æ ¸
- [ ] **é™ªç©å¸ˆèµ„æ–™ç®¡ç†**
  - ç¼–è¾‘ä¸ªäººç®€ä»‹
  - æ›´æ–°æ®µä½ä¿¡æ¯
  - è°ƒæ•´ä»·æ ¼
  - è®¾ç½®æ¥å•çŠ¶æ€ï¼ˆåœ¨çº¿/ç¦»çº¿ï¼‰

#### 2.2 æ¥å•æ¨¡å—
- [ ] **è®¢å•å¤§å…**
  - å¾…æ¥å•è®¢å•åˆ—è¡¨
  - è®¢å•ç­›é€‰ï¼ˆæ¸¸æˆã€ä»·æ ¼ã€æ—¶é—´ï¼‰
  - å¿«é€Ÿæ¥å•
- [ ] **æˆ‘çš„æ¥å•**
  - è¿›è¡Œä¸­çš„è®¢å•
  - å†å²è®¢å•
  - è®¢å•è¯¦æƒ…

#### 2.3 æ”¶ç›Šæ¨¡å—
- [ ] **æ”¶ç›Šæ€»è§ˆ**
  - ä»Šæ—¥æ”¶ç›Š
  - æœ¬æœˆæ”¶ç›Š
  - ç´¯è®¡æ”¶ç›Š
  - æ”¶ç›Šè¶‹åŠ¿å›¾
- [ ] **æç°åŠŸèƒ½**
  - ä½™é¢æŸ¥è¯¢
  - æç°ç”³è¯·
  - æç°è®°å½•
  - æç°è§„åˆ™è¯´æ˜

#### 2.4 æ•°æ®ç»Ÿè®¡
- [ ] **ä¸ªäººæ•°æ®**
  - æ¥å•é‡ç»Ÿè®¡
  - å¥½è¯„ç‡
  - å¹³å‡è¯„åˆ†
  - ç”¨æˆ·å¤è´­ç‡

---

## ğŸ”Œ åç«¯ API è§„åˆ’

### API è·¯ç”±ç»“æ„

```
/api/v1/
â”œâ”€â”€ user/              # ç”¨æˆ·ç«¯ API
â”‚   â”œâ”€â”€ games/         # æ¸¸æˆç›¸å…³
â”‚   â”œâ”€â”€ players/       # é™ªç©å¸ˆç›¸å…³
â”‚   â”œâ”€â”€ orders/        # è®¢å•ç›¸å…³
â”‚   â”œâ”€â”€ payments/      # æ”¯ä»˜ç›¸å…³
â”‚   â”œâ”€â”€ reviews/       # è¯„ä»·ç›¸å…³
â”‚   â””â”€â”€ profile/       # ä¸ªäººä¸­å¿ƒ
â”‚
â”œâ”€â”€ player/            # é™ªç©å¸ˆç«¯ API
â”‚   â”œâ”€â”€ profile/       # é™ªç©å¸ˆèµ„æ–™
â”‚   â”œâ”€â”€ orders/        # é™ªç©å¸ˆè®¢å•
â”‚   â”œâ”€â”€ earnings/      # æ”¶ç›Šç®¡ç†
â”‚   â””â”€â”€ stats/         # æ•°æ®ç»Ÿè®¡
â”‚
â”œâ”€â”€ auth/              # è®¤è¯ç›¸å…³ï¼ˆå·²æœ‰ï¼‰
â”‚   â”œâ”€â”€ login
â”‚   â”œâ”€â”€ register
â”‚   â”œâ”€â”€ refresh
â”‚   â””â”€â”€ logout
â”‚
â””â”€â”€ admin/             # ç®¡ç†ç«¯ APIï¼ˆå·²å®Œæˆï¼‰
```

### è¯¦ç»† API åˆ—è¡¨

#### 1. ç”¨æˆ·ç«¯ - æ¸¸æˆç›¸å…³

```go
// GET /api/v1/user/games
// è·å–æ¸¸æˆåˆ—è¡¨ï¼ˆæ”¯æŒåˆ†ç±»ç­›é€‰ï¼‰
type GameListRequest struct {
    Category string `form:"category"` // æ¸¸æˆåˆ†ç±»
    Page     int    `form:"page"`
    PageSize int    `form:"pageSize"`
}

type GameListResponse struct {
    Games []GameDTO `json:"games"`
    Total int64     `json:"total"`
}

// GET /api/v1/user/games/:id
// è·å–æ¸¸æˆè¯¦æƒ…
type GameDetailResponse struct {
    Game        GameDTO   `json:"game"`
    PlayerCount int64     `json:"playerCount"` // è¯¥æ¸¸æˆçš„é™ªç©å¸ˆæ•°é‡
}
```

#### 2. ç”¨æˆ·ç«¯ - é™ªç©å¸ˆç›¸å…³

```go
// GET /api/v1/user/players
// è·å–é™ªç©å¸ˆåˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰
type PlayerListRequest struct {
    GameID      uint64  `form:"gameId"`      // æ¸¸æˆç­›é€‰
    MinPrice    int64   `form:"minPrice"`    // æœ€ä½ä»·æ ¼ï¼ˆåˆ†ï¼‰
    MaxPrice    int64   `form:"maxPrice"`    // æœ€é«˜ä»·æ ¼ï¼ˆåˆ†ï¼‰
    MinRating   float32 `form:"minRating"`   // æœ€ä½è¯„åˆ†
    OnlineOnly  bool    `form:"onlineOnly"`  // ä»…åœ¨çº¿
    SortBy      string  `form:"sortBy"`      // æ’åºï¼šprice/rating/orders
    Page        int     `form:"page"`
    PageSize    int     `form:"pageSize"`
}

type PlayerListResponse struct {
    Players []PlayerCardDTO `json:"players"`
    Total   int64           `json:"total"`
}

type PlayerCardDTO struct {
    ID              uint64  `json:"id"`
    UserID          uint64  `json:"userId"`
    Nickname        string  `json:"nickname"`
    AvatarURL       string  `json:"avatarUrl"`
    Bio             string  `json:"bio"`
    Rank            string  `json:"rank"`
    RatingAverage   float32 `json:"ratingAverage"`
    RatingCount     uint32  `json:"ratingCount"`
    HourlyRateCents int64   `json:"hourlyRateCents"`
    MainGame        string  `json:"mainGame"`      // æ¸¸æˆåç§°
    IsOnline        bool    `json:"isOnline"`      // åœ¨çº¿çŠ¶æ€
    OrderCount      int64   `json:"orderCount"`    // å†å²è®¢å•æ•°
}

// GET /api/v1/user/players/:id
// è·å–é™ªç©å¸ˆè¯¦æƒ…
type PlayerDetailResponse struct {
    Player  PlayerDetailDTO `json:"player"`
    Reviews []ReviewDTO     `json:"reviews"`       // æœ€æ–°è¯„ä»·
    Stats   PlayerStatsDTO  `json:"stats"`
}

type PlayerDetailDTO struct {
    PlayerCardDTO
    Tags           []string `json:"tags"`          // æœåŠ¡æ ‡ç­¾
    GoodRatio      float32  `json:"goodRatio"`     // å¥½è¯„ç‡
    AvgResponseMin int      `json:"avgResponseMin"` // å¹³å‡å“åº”æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
}

type PlayerStatsDTO struct {
    TotalOrders     int64 `json:"totalOrders"`
    CompletedOrders int64 `json:"completedOrders"`
    RepeatRate      float32 `json:"repeatRate"` // å¤è´­ç‡
}
```

#### 3. ç”¨æˆ·ç«¯ - è®¢å•ç›¸å…³

```go
// POST /api/v1/user/orders
// åˆ›å»ºè®¢å•
type CreateOrderRequest struct {
    PlayerID       uint64     `json:"playerId" binding:"required"`
    GameID         uint64     `json:"gameId" binding:"required"`
    Title          string     `json:"title" binding:"required,max=128"`
    Description    string     `json:"description"`
    ScheduledStart *time.Time `json:"scheduledStart" binding:"required"`
    DurationHours  float32    `json:"durationHours" binding:"required,min=1,max=24"`
}

type CreateOrderResponse struct {
    OrderID     uint64 `json:"orderId"`
    PriceCents  int64  `json:"priceCents"`
    NeedPayment bool   `json:"needPayment"`
}

// GET /api/v1/user/orders
// è·å–æˆ‘çš„è®¢å•åˆ—è¡¨
type MyOrderListRequest struct {
    Status   string `form:"status"`   // pending/confirmed/in_progress/completed/canceled
    Page     int    `form:"page"`
    PageSize int    `form:"pageSize"`
}

type MyOrderListResponse struct {
    Orders []OrderCardDTO `json:"orders"`
    Total  int64          `json:"total"`
}

type OrderCardDTO struct {
    ID              uint64      `json:"id"`
    Title           string      `json:"title"`
    PlayerNickname  string      `json:"playerNickname"`
    PlayerAvatar    string      `json:"playerAvatar"`
    GameName        string      `json:"gameName"`
    Status          OrderStatus `json:"status"`
    PriceCents      int64       `json:"priceCents"`
    ScheduledStart  *time.Time  `json:"scheduledStart"`
    CreatedAt       time.Time   `json:"createdAt"`
    CanPay          bool        `json:"canPay"`
    CanCancel       bool        `json:"canCancel"`
    CanComplete     bool        `json:"canComplete"`
    CanReview       bool        `json:"canReview"`
}

// GET /api/v1/user/orders/:id
// è·å–è®¢å•è¯¦æƒ…
type OrderDetailResponse struct {
    Order       OrderDetailDTO     `json:"order"`
    Player      PlayerCardDTO      `json:"player"`
    Payment     *PaymentDTO        `json:"payment"`
    Review      *ReviewDTO         `json:"review"`
    Timeline    []OrderTimelineDTO `json:"timeline"`
}

type OrderDetailDTO struct {
    OrderCardDTO
    Description     string     `json:"description"`
    ScheduledEnd    *time.Time `json:"scheduledEnd"`
    StartedAt       *time.Time `json:"startedAt"`
    CompletedAt     *time.Time `json:"completedAt"`
    CancelReason    string     `json:"cancelReason"`
    RefundAmount    int64      `json:"refundAmount"`
    RefundReason    string     `json:"refundReason"`
}

type OrderTimelineDTO struct {
    Time    time.Time `json:"time"`
    Status  string    `json:"status"`
    Message string    `json:"message"`
}

// PUT /api/v1/user/orders/:id/cancel
// å–æ¶ˆè®¢å•
type CancelOrderRequest struct {
    Reason string `json:"reason" binding:"required,max=500"`
}

// PUT /api/v1/user/orders/:id/complete
// ç¡®è®¤å®Œæˆè®¢å•ï¼ˆç”¨æˆ·ä¾§ï¼‰
type CompleteOrderRequest struct {
    Confirm bool `json:"confirm"`
}
```

#### 4. ç”¨æˆ·ç«¯ - æ”¯ä»˜ç›¸å…³

```go
// POST /api/v1/user/payments
// åˆ›å»ºæ”¯ä»˜
type CreatePaymentRequest struct {
    OrderID uint64        `json:"orderId" binding:"required"`
    Method  PaymentMethod `json:"method" binding:"required,oneof=wechat alipay"`
}

type CreatePaymentResponse struct {
    PaymentID uint64                 `json:"paymentId"`
    PayInfo   map[string]interface{} `json:"payInfo"` // æ”¯ä»˜å‚æ•°ï¼ˆå¯¹æ¥æ”¯ä»˜SDKï¼‰
}

// GET /api/v1/user/payments/:id
// æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€
type PaymentStatusResponse struct {
    PaymentID uint64        `json:"paymentId"`
    OrderID   uint64        `json:"orderId"`
    Status    PaymentStatus `json:"status"`
    PaidAt    *time.Time    `json:"paidAt"`
}

// POST /api/v1/user/payments/:id/cancel
// å–æ¶ˆæ”¯ä»˜
type CancelPaymentResponse struct {
    Success bool `json:"success"`
}
```

#### 5. ç”¨æˆ·ç«¯ - è¯„ä»·ç›¸å…³

```go
// POST /api/v1/user/reviews
// åˆ›å»ºè¯„ä»·
type CreateReviewRequest struct {
    OrderID  uint64   `json:"orderId" binding:"required"`
    Rating   int      `json:"rating" binding:"required,min=1,max=5"`
    Comment  string   `json:"comment" binding:"max=500"`
    Tags     []string `json:"tags"`          // è¯„ä»·æ ‡ç­¾
    Anonymous bool    `json:"anonymous"`      // æ˜¯å¦åŒ¿å
}

type CreateReviewResponse struct {
    ReviewID uint64 `json:"reviewId"`
}

// GET /api/v1/user/reviews/my
// è·å–æˆ‘çš„è¯„ä»·åˆ—è¡¨
type MyReviewListResponse struct {
    Reviews []MyReviewDTO `json:"reviews"`
    Total   int64         `json:"total"`
}

type MyReviewDTO struct {
    ReviewDTO
    OrderTitle     string `json:"orderTitle"`
    PlayerNickname string `json:"playerNickname"`
}
```

#### 6. ç”¨æˆ·ç«¯ - ä¸ªäººä¸­å¿ƒ

```go
// GET /api/v1/user/profile
// è·å–ä¸ªäººä¿¡æ¯
type UserProfileResponse struct {
    ID          uint64     `json:"id"`
    Name        string     `json:"name"`
    Phone       string     `json:"phone"`
    Email       string     `json:"email"`
    AvatarURL   string     `json:"avatarUrl"`
    Status      UserStatus `json:"status"`
    CreatedAt   time.Time  `json:"createdAt"`
    IsPlayer    bool       `json:"isPlayer"`    // æ˜¯å¦æ˜¯é™ªç©å¸ˆ
    PlayerID    uint64     `json:"playerId"`    // é™ªç©å¸ˆIDï¼ˆå¦‚æœæ˜¯ï¼‰
}

// PUT /api/v1/user/profile
// æ›´æ–°ä¸ªäººä¿¡æ¯
type UpdateProfileRequest struct {
    Name      string `json:"name" binding:"required,max=64"`
    AvatarURL string `json:"avatarUrl" binding:"url"`
}

// POST /api/v1/user/profile/change-password
// ä¿®æ”¹å¯†ç 
type ChangePasswordRequest struct {
    OldPassword string `json:"oldPassword" binding:"required,min=6"`
    NewPassword string `json:"newPassword" binding:"required,min=6"`
}

// GET /api/v1/user/wallet
// è·å–é’±åŒ…ä¿¡æ¯
type WalletResponse struct {
    Balance      int64 `json:"balance"`      // ä½™é¢ï¼ˆåˆ†ï¼‰
    TotalSpent   int64 `json:"totalSpent"`   // ç´¯è®¡æ¶ˆè´¹
    TotalRecharge int64 `json:"totalRecharge"` // ç´¯è®¡å……å€¼
}
```

#### 7. é™ªç©å¸ˆç«¯ - é™ªç©å¸ˆèµ„æ–™

```go
// POST /api/v1/player/apply
// ç”³è¯·æˆä¸ºé™ªç©å¸ˆ
type ApplyPlayerRequest struct {
    Nickname        string   `json:"nickname" binding:"required,max=64"`
    Bio             string   `json:"bio" binding:"max=500"`
    MainGameID      uint64   `json:"mainGameId" binding:"required"`
    Rank            string   `json:"rank" binding:"required,max=32"`
    HourlyRateCents int64    `json:"hourlyRateCents" binding:"required,min=1000"`
    Tags            []string `json:"tags"`
    ProofImages     []string `json:"proofImages"` // æ®µä½è¯æ˜å›¾ç‰‡
}

type ApplyPlayerResponse struct {
    PlayerID           uint64             `json:"playerId"`
    VerificationStatus VerificationStatus `json:"verificationStatus"`
}

// GET /api/v1/player/profile
// è·å–é™ªç©å¸ˆèµ„æ–™
type PlayerProfileResponse struct {
    PlayerDetailDTO
    VerificationStatus VerificationStatus `json:"verificationStatus"`
}

// PUT /api/v1/player/profile
// æ›´æ–°é™ªç©å¸ˆèµ„æ–™
type UpdatePlayerProfileRequest struct {
    Nickname        string   `json:"nickname" binding:"required,max=64"`
    Bio             string   `json:"bio" binding:"max=500"`
    Rank            string   `json:"rank"`
    HourlyRateCents int64    `json:"hourlyRateCents" binding:"min=1000"`
    Tags            []string `json:"tags"`
}

// PUT /api/v1/player/status
// è®¾ç½®åœ¨çº¿çŠ¶æ€
type SetPlayerStatusRequest struct {
    Online bool `json:"online"`
}
```

#### 8. é™ªç©å¸ˆç«¯ - è®¢å•ç®¡ç†

```go
// GET /api/v1/player/orders/available
// è·å–å¯æ¥è®¢å•åˆ—è¡¨ï¼ˆè®¢å•å¤§å…ï¼‰
type AvailableOrdersRequest struct {
    GameID   uint64 `form:"gameId"`
    Page     int    `form:"page"`
    PageSize int    `form:"pageSize"`
}

type AvailableOrdersResponse struct {
    Orders []AvailableOrderDTO `json:"orders"`
    Total  int64               `json:"total"`
}

type AvailableOrderDTO struct {
    ID             uint64     `json:"id"`
    Title          string     `json:"title"`
    Description    string     `json:"description"`
    GameName       string     `json:"gameName"`
    UserNickname   string     `json:"userNickname"`
    PriceCents     int64      `json:"priceCents"`
    ScheduledStart *time.Time `json:"scheduledStart"`
    DurationHours  float32    `json:"durationHours"`
    CreatedAt      time.Time  `json:"createdAt"`
}

// POST /api/v1/player/orders/:id/accept
// æ¥å•
type AcceptOrderRequest struct {
    Confirm bool `json:"confirm"`
}

type AcceptOrderResponse struct {
    Success bool       `json:"success"`
    Order   OrderDTO   `json:"order"`
}

// GET /api/v1/player/orders/my
// è·å–æˆ‘æ¥çš„è®¢å•
type MyAcceptedOrdersRequest struct {
    Status   string `form:"status"`
    Page     int    `form:"page"`
    PageSize int    `form:"pageSize"`
}

// PUT /api/v1/player/orders/:id/start
// å¼€å§‹è®¢å•
type StartOrderRequest struct {
    Confirm bool `json:"confirm"`
}

// PUT /api/v1/player/orders/:id/complete
// å®Œæˆè®¢å•ï¼ˆé™ªç©å¸ˆä¾§ï¼‰
type CompleteOrderByPlayerRequest struct {
    Confirm bool `json:"confirm"`
}
```

#### 9. é™ªç©å¸ˆç«¯ - æ”¶ç›Šç®¡ç†

```go
// GET /api/v1/player/earnings/summary
// è·å–æ”¶ç›Šæ¦‚è§ˆ
type EarningsSummaryResponse struct {
    TodayEarnings   int64   `json:"todayEarnings"`   // ä»Šæ—¥æ”¶ç›Šï¼ˆåˆ†ï¼‰
    MonthEarnings   int64   `json:"monthEarnings"`   // æœ¬æœˆæ”¶ç›Š
    TotalEarnings   int64   `json:"totalEarnings"`   // ç´¯è®¡æ”¶ç›Š
    AvailableBalance int64  `json:"availableBalance"` // å¯æç°ä½™é¢
    PendingBalance  int64   `json:"pendingBalance"`  // å¾…ç»“ç®—ä½™é¢
    WithdrawTotal   int64   `json:"withdrawTotal"`   // ç´¯è®¡æç°
}

// GET /api/v1/player/earnings/trend
// è·å–æ”¶ç›Šè¶‹åŠ¿
type EarningsTrendRequest struct {
    Days int `form:"days" binding:"required,min=7,max=90"` // 7/30/90å¤©
}

type EarningsTrendResponse struct {
    Trend []DailyEarningDTO `json:"trend"`
}

type DailyEarningDTO struct {
    Date       string `json:"date"`       // YYYY-MM-DD
    Earnings   int64  `json:"earnings"`   // å½“æ—¥æ”¶ç›Š
    OrderCount int    `json:"orderCount"` // è®¢å•æ•°
}

// POST /api/v1/player/earnings/withdraw
// ç”³è¯·æç°
type WithdrawRequest struct {
    AmountCents int64  `json:"amountCents" binding:"required,min=10000"` // æœ€ä½100å…ƒ
    Method      string `json:"method" binding:"required,oneof=alipay wechat bank"`
    AccountInfo string `json:"accountInfo" binding:"required"` // è´¦å·ä¿¡æ¯
}

type WithdrawResponse struct {
    WithdrawID uint64 `json:"withdrawId"`
    Status     string `json:"status"`
}

// GET /api/v1/player/earnings/withdraw-history
// æç°è®°å½•
type WithdrawHistoryResponse struct {
    Records []WithdrawRecordDTO `json:"records"`
    Total   int64               `json:"total"`
}

type WithdrawRecordDTO struct {
    ID          uint64    `json:"id"`
    AmountCents int64     `json:"amountCents"`
    Method      string    `json:"method"`
    Status      string    `json:"status"`
    CreatedAt   time.Time `json:"createdAt"`
    ProcessedAt *time.Time `json:"processedAt"`
}
```

#### 10. é™ªç©å¸ˆç«¯ - æ•°æ®ç»Ÿè®¡

```go
// GET /api/v1/player/stats
// è·å–ä¸ªäººç»Ÿè®¡æ•°æ®
type PlayerStatsResponse struct {
    TotalOrders      int64   `json:"totalOrders"`      // æ€»è®¢å•æ•°
    CompletedOrders  int64   `json:"completedOrders"`  // å®Œæˆè®¢å•æ•°
    CanceledOrders   int64   `json:"canceledOrders"`   // å–æ¶ˆè®¢å•æ•°
    CompletionRate   float32 `json:"completionRate"`   // å®Œæˆç‡
    AverageRating    float32 `json:"averageRating"`    // å¹³å‡è¯„åˆ†
    TotalReviews     int64   `json:"totalReviews"`     // è¯„ä»·æ€»æ•°
    GoodReviews      int64   `json:"goodReviews"`      // å¥½è¯„æ•°ï¼ˆ4-5æ˜Ÿï¼‰
    GoodRatio        float32 `json:"goodRatio"`        // å¥½è¯„ç‡
    RepeatCustomers  int64   `json:"repeatCustomers"`  // å¤è´­ç”¨æˆ·æ•°
    RepeatRate       float32 `json:"repeatRate"`       // å¤è´­ç‡
    TotalWorkHours   float32 `json:"totalWorkHours"`   // ç´¯è®¡å·¥ä½œæ—¶é•¿
    AvgOrderDuration float32 `json:"avgOrderDuration"` // å¹³å‡è®¢å•æ—¶é•¿
}

// GET /api/v1/player/stats/recent-orders
// è·å–æœ€è¿‘è®¢å•ç»Ÿè®¡
type RecentOrdersStatsRequest struct {
    Days int `form:"days" binding:"required,min=7,max=30"`
}

type RecentOrdersStatsResponse struct {
    OrdersByDay    []DailyOrderCountDTO `json:"ordersByDay"`
    OrdersByStatus map[string]int64     `json:"ordersByStatus"`
    TopGames       []GameOrderCountDTO  `json:"topGames"`
}

type DailyOrderCountDTO struct {
    Date  string `json:"date"`
    Count int64  `json:"count"`
}

type GameOrderCountDTO struct {
    GameName string `json:"gameName"`
    Count    int64  `json:"count"`
}
```

---

## ğŸ¨ å‰ç«¯é¡µé¢è§„åˆ’

### é¡µé¢è·¯ç”±ç»“æ„

```
/                          # é¦–é¡µï¼ˆæ¸¸æˆ + æ¨èé™ªç©å¸ˆï¼‰
/games                     # æ¸¸æˆåˆ—è¡¨
/games/:id                 # æ¸¸æˆè¯¦æƒ…
/players                   # é™ªç©å¸ˆåˆ—è¡¨
/players/:id               # é™ªç©å¸ˆè¯¦æƒ…é¡µ
/players/:id/book          # é¢„çº¦ä¸‹å•é¡µ

/user/                     # ç”¨æˆ·ä¸­å¿ƒ
â”œâ”€â”€ /orders                # æˆ‘çš„è®¢å•
â”œâ”€â”€ /orders/:id            # è®¢å•è¯¦æƒ…
â”œâ”€â”€ /reviews               # æˆ‘çš„è¯„ä»·
â”œâ”€â”€ /profile               # ä¸ªäººä¿¡æ¯
â””â”€â”€ /wallet                # æˆ‘çš„é’±åŒ…

/player/                   # é™ªç©å¸ˆä¸­å¿ƒ
â”œâ”€â”€ /apply                 # ç”³è¯·æˆä¸ºé™ªç©å¸ˆ
â”œâ”€â”€ /dashboard             # é™ªç©å¸ˆå·¥ä½œå°
â”œâ”€â”€ /orders                # æˆ‘çš„æ¥å•
â”œâ”€â”€ /orders/available      # è®¢å•å¤§å…
â”œâ”€â”€ /earnings              # æ”¶ç›Šç®¡ç†
â”œâ”€â”€ /profile               # é™ªç©å¸ˆèµ„æ–™
â””â”€â”€ /stats                 # æ•°æ®ç»Ÿè®¡

/payment/:orderId          # æ”¯ä»˜é¡µé¢
/payment/result            # æ”¯ä»˜ç»“æœé¡µ

/login                     # ç™»å½•ï¼ˆå·²æœ‰ï¼‰
/register                  # æ³¨å†Œï¼ˆå·²æœ‰ï¼‰
```

### é¡µé¢è¯¦ç»†è®¾è®¡

#### 1. é¦–é¡µ `/`

**ç»„ä»¶ç»“æ„**:
```tsx
<HomePage>
  <Header />
  <HeroSection>
    <SearchBar />              {/* æœç´¢æ¸¸æˆ/é™ªç©å¸ˆ */}
  </HeroSection>
  
  <HotGamesSection>
    <GameCard />               {/* æ¸¸æˆå¡ç‰‡åˆ—è¡¨ */}
  </HotGamesSection>
  
  <FeaturedPlayersSection>
    <PlayerCard />             {/* æ¨èé™ªç©å¸ˆå¡ç‰‡ */}
  </FeaturedPlayersSection>
  
  <Footer />
</HomePage>
```

**æ ¸å¿ƒåŠŸèƒ½**:
- æœç´¢åŠŸèƒ½ï¼ˆæ¸¸æˆåã€é™ªç©å¸ˆæ˜µç§°ï¼‰
- æ¸¸æˆåˆ†ç±»å¿«é€Ÿå¯¼èˆª
- çƒ­é—¨é™ªç©å¸ˆæ¨è
- Banner å¹¿å‘Šè½®æ’­

#### 2. é™ªç©å¸ˆåˆ—è¡¨ `/players`

**ç»„ä»¶ç»“æ„**:
```tsx
<PlayerListPage>
  <FilterSidebar>
    <GameFilter />             {/* æ¸¸æˆç­›é€‰ */}
    <PriceRangeFilter />       {/* ä»·æ ¼åŒºé—´ */}
    <RatingFilter />           {/* è¯„åˆ†ç­›é€‰ */}
    <OnlineFilter />           {/* åœ¨çº¿çŠ¶æ€ */}
  </FilterSidebar>
  
  <PlayerGrid>
    <SortBar />                {/* æ’åºé€‰é¡¹ */}
    <PlayerCard />             {/* é™ªç©å¸ˆå¡ç‰‡ */}
    <Pagination />
  </PlayerGrid>
</PlayerListPage>
```

**é™ªç©å¸ˆå¡ç‰‡å†…å®¹**:
- å¤´åƒã€æ˜µç§°
- æ“…é•¿æ¸¸æˆã€æ®µä½
- è¯„åˆ†ã€æ¥å•æ•°
- æ—¶è–ªä»·æ ¼
- åœ¨çº¿çŠ¶æ€
- å¿«é€Ÿé¢„çº¦æŒ‰é’®

#### 3. é™ªç©å¸ˆè¯¦æƒ…é¡µ `/players/:id`

**ç»„ä»¶ç»“æ„**:
```tsx
<PlayerDetailPage>
  <PlayerHeader>
    <Avatar />
    <BasicInfo />              {/* æ˜µç§°ã€æ®µä½ã€è®¤è¯ */}
    <OnlineStatus />
  </PlayerHeader>
  
  <PlayerContent>
    <LeftColumn>
      <ProfileSection>
        <Bio />                {/* ä¸ªäººç®€ä»‹ */}
        <Skills />             {/* æŠ€èƒ½æ ‡ç­¾ */}
        <Games />              {/* æ“…é•¿æ¸¸æˆ */}
      </ProfileSection>
      
      <StatsSection>
        <OrderCount />         {/* è®¢å•ç»Ÿè®¡ */}
        <GoodRatio />          {/* å¥½è¯„ç‡ */}
        <Rating />             {/* å¹³å‡è¯„åˆ† */}
      </StatsSection>
      
      <ReviewsSection>
        <ReviewList />         {/* è¯„ä»·åˆ—è¡¨ */}
      </ReviewsSection>
    </LeftColumn>
    
    <RightColumn>
      <BookingCard>
        <PriceInfo />          {/* ä»·æ ¼ä¿¡æ¯ */}
        <TimeSelector />       {/* æ—¶é—´é€‰æ‹© */}
        <DurationSelector />   {/* æ—¶é•¿é€‰æ‹© */}
        <TotalPrice />         {/* æ€»ä»·è®¡ç®— */}
        <BookButton />         {/* ç«‹å³é¢„çº¦ */}
      </BookingCard>
    </RightColumn>
  </PlayerContent>
</PlayerDetailPage>
```

#### 4. è®¢å•åˆ—è¡¨ `/user/orders`

**ç»„ä»¶ç»“æ„**:
```tsx
<OrderListPage>
  <OrderTabs>
    <Tab label="å…¨éƒ¨" />
    <Tab label="å¾…æ”¯ä»˜" />
    <Tab label="è¿›è¡Œä¸­" />
    <Tab label="å·²å®Œæˆ" />
    <Tab label="å·²å–æ¶ˆ" />
  </OrderTabs>
  
  <OrderList>
    <OrderCard>
      <OrderInfo />            {/* è®¢å•ä¿¡æ¯ */}
      <PlayerInfo />           {/* é™ªç©å¸ˆä¿¡æ¯ */}
      <OrderStatus />          {/* çŠ¶æ€æ ‡è¯† */}
      <ActionButtons />        {/* æ“ä½œæŒ‰é’® */}
    </OrderCard>
  </OrderList>
  
  <Pagination />
</OrderListPage>
```

**è®¢å•å¡ç‰‡æ“ä½œ**:
- å¾…æ”¯ä»˜ï¼šå»æ”¯ä»˜ã€å–æ¶ˆè®¢å•
- è¿›è¡Œä¸­ï¼šæŸ¥çœ‹è¯¦æƒ…ã€è”ç³»é™ªç©å¸ˆ
- å·²å®Œæˆï¼šè¯„ä»·ã€å†æ¬¡é¢„çº¦
- å·²å–æ¶ˆï¼šæŸ¥çœ‹åŸå› 

#### 5. è®¢å•è¯¦æƒ… `/user/orders/:id`

**ç»„ä»¶ç»“æ„**:
```tsx
<OrderDetailPage>
  <OrderStatusBar />           {/* è®¢å•çŠ¶æ€è¿›åº¦æ¡ */}
  
  <OrderInfoCard>
    <BasicInfo />              {/* è®¢å•åŸºæœ¬ä¿¡æ¯ */}
    <TimeInfo />               {/* æ—¶é—´ä¿¡æ¯ */}
    <PriceInfo />              {/* ä»·æ ¼æ˜ç»† */}
  </OrderInfoCard>
  
  <PlayerInfoCard>
    <PlayerAvatar />
    <PlayerName />
    <ContactButton />          {/* è”ç³»é™ªç©å¸ˆ */}
  </PlayerInfoCard>
  
  <PaymentInfoCard />          {/* æ”¯ä»˜ä¿¡æ¯ï¼ˆå¦‚å·²æ”¯ä»˜ï¼‰*/}
  
  <TimelineCard>
    <OrderTimeline />          {/* è®¢å•æ—¶é—´è½´ */}
  </TimelineCard>
  
  <ActionBar>
    <PayButton />              {/* æ ¹æ®çŠ¶æ€æ˜¾ç¤ºä¸åŒæŒ‰é’® */}
    <CancelButton />
    <CompleteButton />
    <ReviewButton />
  </ActionBar>
</OrderDetailPage>
```

#### 6. æ”¯ä»˜é¡µé¢ `/payment/:orderId`

**ç»„ä»¶ç»“æ„**:
```tsx
<PaymentPage>
  <OrderSummary>
    <OrderInfo />              {/* è®¢å•æ‘˜è¦ */}
    <PriceBreakdown />         {/* ä»·æ ¼æ˜ç»† */}
  </OrderSummary>
  
  <PaymentMethods>
    <MethodOption value="wechat">
      <WeChatPayIcon />
    </MethodOption>
    <MethodOption value="alipay">
      <AlipayIcon />
    </MethodOption>
  </PaymentMethods>
  
  <CouponSection>
    <CouponSelector />         {/* ä¼˜æƒ åˆ¸é€‰æ‹©ï¼ˆå¯é€‰ï¼‰*/}
  </CouponSection>
  
  <TotalAmount />              {/* å®ä»˜é‡‘é¢ */}
  
  <PayButton />                {/* ç«‹å³æ”¯ä»˜ */}
</PaymentPage>
```

#### 7. è¯„ä»·é¡µé¢ `/user/orders/:id/review`

**ç»„ä»¶ç»“æ„**:
```tsx
<ReviewPage>
  <OrderInfo />                {/* è®¢å•ä¿¡æ¯ */}
  
  <RatingSection>
    <StarRating />             {/* æ˜Ÿçº§è¯„åˆ† */}
    <QuickTags />              {/* å¿«é€Ÿæ ‡ç­¾ */}
  </RatingSection>
  
  <CommentSection>
    <Textarea />               {/* è¯„ä»·å†…å®¹ */}
    <CharCounter />            {/* å­—æ•°ç»Ÿè®¡ */}
  </CommentSection>
  
  <AnonymousOption>
    <Checkbox label="åŒ¿åè¯„ä»·" />
  </AnonymousOption>
  
  <SubmitButton />
</ReviewPage>
```

#### 8. é™ªç©å¸ˆå·¥ä½œå° `/player/dashboard`

**ç»„ä»¶ç»“æ„**:
```tsx
<PlayerDashboard>
  <StatsOverview>
    <StatCard label="ä»Šæ—¥æ”¶ç›Š" />
    <StatCard label="æœ¬æœˆè®¢å•" />
    <StatCard label="å¥½è¯„ç‡" />
    <StatCard label="åœ¨çº¿æ—¶é•¿" />
  </StatsOverview>
  
  <QuickActions>
    <OnlineToggle />           {/* åœ¨çº¿/ç¦»çº¿åˆ‡æ¢ */}
    <ViewOrdersButton />       {/* æŸ¥çœ‹è®¢å• */}
    <ViewEarningsButton />     {/* æŸ¥çœ‹æ”¶ç›Š */}
  </QuickActions>
  
  <PendingOrders>
    <OrderCard />              {/* å¾…æ¥è®¢å• */}
  </PendingOrders>
  
  <RecentActivity>
    <ActivityItem />           {/* æœ€è¿‘åŠ¨æ€ */}
  </RecentActivity>
</PlayerDashboard>
```

#### 9. è®¢å•å¤§å… `/player/orders/available`

**ç»„ä»¶ç»“æ„**:
```tsx
<OrderHallPage>
  <FilterBar>
    <GameFilter />
    <PriceFilter />
    <TimeFilter />
  </FilterBar>
  
  <OrderList>
    <AvailableOrderCard>
      <OrderInfo />
      <UserInfo />
      <TimeInfo />
      <PriceInfo />
      <AcceptButton />         {/* æ¥å•æŒ‰é’® */}
    </AvailableOrderCard>
  </OrderList>
  
  <AutoRefresh />              {/* è‡ªåŠ¨åˆ·æ–° */}
</OrderHallPage>
```

#### 10. æ”¶ç›Šç®¡ç† `/player/earnings`

**ç»„ä»¶ç»“æ„**:
```tsx
<EarningsPage>
  <EarningsSummary>
    <TotalEarnings />          {/* ç´¯è®¡æ”¶ç›Š */}
    <AvailableBalance />       {/* å¯æç°ä½™é¢ */}
    <PendingBalance />         {/* å¾…ç»“ç®— */}
  </EarningsSummary>
  
  <EarningsTrend>
    <LineChart />              {/* æ”¶ç›Šè¶‹åŠ¿å›¾ */}
    <DateRangeSelector />      {/* æ—¶é—´èŒƒå›´é€‰æ‹© */}
  </EarningsTrend>
  
  <WithdrawSection>
    <WithdrawButton />         {/* ç”³è¯·æç° */}
    <WithdrawHistory />        {/* æç°è®°å½• */}
  </WithdrawSection>
  
  <EarningsDetail>
    <EarningsTable />          {/* æ”¶ç›Šæ˜ç»†è¡¨ */}
  </EarningsDetail>
</EarningsPage>
```

---

## ğŸ“Š æ•°æ®æ¨¡å‹

### å·²æœ‰æ¨¡å‹ï¼ˆå¤ç”¨ï¼‰

```go
// ç”¨æˆ·æ¨¡å‹
type User struct {
    Base
    Phone        string
    Email        string
    PasswordHash string
    Name         string
    AvatarURL    string
    Role         Role
    Status       UserStatus
    LastLoginAt  *time.Time
    Roles        []RoleModel
}

// é™ªç©å¸ˆæ¨¡å‹
type Player struct {
    Base
    UserID             uint64
    Nickname           string
    Bio                string
    Rank               string
    RatingAverage      float32
    RatingCount        uint32
    HourlyRateCents    int64
    MainGameID         uint64
    VerificationStatus VerificationStatus
}

// è®¢å•æ¨¡å‹
type Order struct {
    Base
    UserID            uint64
    PlayerID          uint64
    GameID            uint64
    Title             string
    Description       string
    Status            OrderStatus
    PriceCents        int64
    Currency          Currency
    ScheduledStart    *time.Time
    ScheduledEnd      *time.Time
    CancelReason      string
    StartedAt         *time.Time
    CompletedAt       *time.Time
    RefundAmountCents int64
    RefundReason      string
    RefundedAt        *time.Time
}

// æ”¯ä»˜æ¨¡å‹
type Payment struct {
    Base
    OrderID         uint64
    UserID          uint64
    Method          PaymentMethod
    AmountCents     int64
    Currency        Currency
    Status          PaymentStatus
    ProviderTradeNo string
    ProviderRaw     json.RawMessage
    PaidAt          *time.Time
    RefundedAt      *time.Time
}

// è¯„ä»·æ¨¡å‹
type Review struct {
    Base
    OrderID  uint64
    UserID   uint64
    PlayerID uint64
    Score    Rating  // 1-5
    Content  string
}

// æ¸¸æˆæ¨¡å‹
type Game struct {
    Base
    Key         string
    Name        string
    Category    string
    IconURL     string
    Description string
}
```

### æ–°å¢æ¨¡å‹éœ€æ±‚

```go
// é™ªç©å¸ˆåœ¨çº¿çŠ¶æ€ï¼ˆå¯ä»¥ç”¨ Redis å­˜å‚¨ï¼‰
type PlayerOnlineStatus struct {
    PlayerID   uint64    `json:"playerId"`
    IsOnline   bool      `json:"isOnline"`
    LastActive time.Time `json:"lastActive"`
}

// æç°è®°å½•
type Withdrawal struct {
    Base
    PlayerID    uint64          `json:"playerId" gorm:"column:player_id;not null;index"`
    AmountCents int64           `json:"amountCents" gorm:"column:amount_cents"`
    Method      string          `json:"method" gorm:"size:32"`
    Status      WithdrawStatus  `json:"status" gorm:"size:32;index"`
    AccountInfo string          `json:"accountInfo" gorm:"column:account_info;type:text"`
    ProcessedAt *time.Time      `json:"processedAt" gorm:"column:processed_at"`
    Remark      string          `json:"remark,omitempty" gorm:"type:text"`
}

type WithdrawStatus string

const (
    WithdrawPending   WithdrawStatus = "pending"
    WithdrawApproved  WithdrawStatus = "approved"
    WithdrawRejected  WithdrawStatus = "rejected"
    WithdrawCompleted WithdrawStatus = "completed"
)

// ä¼˜æƒ åˆ¸ï¼ˆå¯é€‰ï¼ŒåæœŸåŠŸèƒ½ï¼‰
type Coupon struct {
    Base
    Code            string     `json:"code" gorm:"size:32;uniqueIndex"`
    DiscountType    string     `json:"discountType" gorm:"size:32"` // percent/fixed
    DiscountValue   int64      `json:"discountValue"`
    MinOrderAmount  int64      `json:"minOrderAmount"`
    MaxDiscount     int64      `json:"maxDiscount"`
    ValidFrom       time.Time  `json:"validFrom"`
    ValidUntil      time.Time  `json:"validUntil"`
    UsageLimit      int        `json:"usageLimit"`
    UsageCount      int        `json:"usageCount"`
}

// ç”¨æˆ·ä¼˜æƒ åˆ¸å…³è”
type UserCoupon struct {
    Base
    UserID   uint64     `json:"userId" gorm:"column:user_id;index"`
    CouponID uint64     `json:"couponId" gorm:"column:coupon_id;index"`
    UsedAt   *time.Time `json:"usedAt" gorm:"column:used_at"`
    OrderID  uint64     `json:"orderId" gorm:"column:order_id"`
}

// é™ªç©å¸ˆæ ‡ç­¾
type PlayerTag struct {
    Base
    PlayerID uint64 `json:"playerId" gorm:"column:player_id;index"`
    Tag      string `json:"tag" gorm:"size:32;index"`
}

// æ¶ˆæ¯é€šçŸ¥ï¼ˆå¯é€‰ï¼‰
type Notification struct {
    Base
    UserID   uint64    `json:"userId" gorm:"column:user_id;index"`
    Type     string    `json:"type" gorm:"size:32"`
    Title    string    `json:"title" gorm:"size:128"`
    Content  string    `json:"content" gorm:"type:text"`
    IsRead   bool      `json:"isRead" gorm:"column:is_read;default:false"`
    ReadAt   *time.Time `json:"readAt" gorm:"column:read_at"`
}
```

---

## ğŸš€ å¼€å‘é˜¶æ®µ

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€åŠŸèƒ½ï¼ˆ2å‘¨ï¼‰

**ç›®æ ‡**: å®ç°æ ¸å¿ƒä¸šåŠ¡æµç¨‹

#### åç«¯ä»»åŠ¡
- [ ] **ç”¨æˆ·ç«¯ - é™ªç©å¸ˆæ¨¡å—**
  - [ ] GET /api/v1/user/playersï¼ˆåˆ—è¡¨ + ç­›é€‰ï¼‰
  - [ ] GET /api/v1/user/players/:idï¼ˆè¯¦æƒ…ï¼‰
- [ ] **ç”¨æˆ·ç«¯ - è®¢å•æ¨¡å—**
  - [ ] POST /api/v1/user/ordersï¼ˆåˆ›å»ºè®¢å•ï¼‰
  - [ ] GET /api/v1/user/ordersï¼ˆæˆ‘çš„è®¢å•ï¼‰
  - [ ] GET /api/v1/user/orders/:idï¼ˆè®¢å•è¯¦æƒ…ï¼‰
  - [ ] PUT /api/v1/user/orders/:id/cancelï¼ˆå–æ¶ˆè®¢å•ï¼‰
- [ ] **æ”¯ä»˜æ¨¡å—ï¼ˆMock ç‰ˆæœ¬ï¼‰**
  - [ ] POST /api/v1/user/paymentsï¼ˆåˆ›å»ºæ”¯ä»˜ï¼‰
  - [ ] GET /api/v1/user/payments/:idï¼ˆæŸ¥è¯¢çŠ¶æ€ï¼‰
- [ ] **è¯„ä»·æ¨¡å—**
  - [ ] POST /api/v1/user/reviewsï¼ˆåˆ›å»ºè¯„ä»·ï¼‰
  - [ ] GET /api/v1/user/reviews/myï¼ˆæˆ‘çš„è¯„ä»·ï¼‰

#### å‰ç«¯ä»»åŠ¡
- [ ] **é™ªç©å¸ˆåˆ—è¡¨é¡µ** (`/players`)
- [ ] **é™ªç©å¸ˆè¯¦æƒ…é¡µ** (`/players/:id`)
- [ ] **é¢„çº¦ä¸‹å•é¡µ** (`/players/:id/book`)
- [ ] **è®¢å•åˆ—è¡¨é¡µ** (`/user/orders`)
- [ ] **è®¢å•è¯¦æƒ…é¡µ** (`/user/orders/:id`)
- [ ] **æ”¯ä»˜é¡µé¢** (`/payment/:orderId`)
- [ ] **è¯„ä»·é¡µé¢** (`/user/orders/:id/review`)

#### éªŒæ”¶æ ‡å‡†
- âœ… ç”¨æˆ·å¯ä»¥æµè§ˆé™ªç©å¸ˆå¹¶ä¸‹å•
- âœ… ç”¨æˆ·å¯ä»¥æŸ¥çœ‹è®¢å•çŠ¶æ€
- âœ… ç”¨æˆ·å¯ä»¥å®Œæˆæ”¯ä»˜ï¼ˆMockï¼‰
- âœ… ç”¨æˆ·å¯ä»¥è¯„ä»·è®¢å•

---

### ç¬¬äºŒé˜¶æ®µï¼šé™ªç©å¸ˆç«¯ï¼ˆ2å‘¨ï¼‰

**ç›®æ ‡**: é™ªç©å¸ˆå¯ä»¥æ¥å•å’Œç®¡ç†è®¢å•

#### åç«¯ä»»åŠ¡
- [ ] **é™ªç©å¸ˆè®¤è¯**
  - [ ] POST /api/v1/player/applyï¼ˆç”³è¯·æˆä¸ºé™ªç©å¸ˆï¼‰
  - [ ] GET /api/v1/player/profileï¼ˆé™ªç©å¸ˆèµ„æ–™ï¼‰
  - [ ] PUT /api/v1/player/profileï¼ˆæ›´æ–°èµ„æ–™ï¼‰
  - [ ] PUT /api/v1/player/statusï¼ˆåœ¨çº¿çŠ¶æ€ï¼‰
- [ ] **é™ªç©å¸ˆè®¢å•**
  - [ ] GET /api/v1/player/orders/availableï¼ˆè®¢å•å¤§å…ï¼‰
  - [ ] POST /api/v1/player/orders/:id/acceptï¼ˆæ¥å•ï¼‰
  - [ ] GET /api/v1/player/orders/myï¼ˆæˆ‘çš„æ¥å•ï¼‰
  - [ ] PUT /api/v1/player/orders/:id/startï¼ˆå¼€å§‹è®¢å•ï¼‰
  - [ ] PUT /api/v1/player/orders/:id/completeï¼ˆå®Œæˆè®¢å•ï¼‰
- [ ] **æ”¶ç›Šç®¡ç†**
  - [ ] GET /api/v1/player/earnings/summaryï¼ˆæ”¶ç›Šæ¦‚è§ˆï¼‰
  - [ ] GET /api/v1/player/earnings/trendï¼ˆæ”¶ç›Šè¶‹åŠ¿ï¼‰

#### å‰ç«¯ä»»åŠ¡
- [ ] **ç”³è¯·é™ªç©å¸ˆé¡µ** (`/player/apply`)
- [ ] **é™ªç©å¸ˆå·¥ä½œå°** (`/player/dashboard`)
- [ ] **è®¢å•å¤§å…** (`/player/orders/available`)
- [ ] **æˆ‘çš„æ¥å•** (`/player/orders/my`)
- [ ] **æ”¶ç›Šç®¡ç†** (`/player/earnings`)
- [ ] **é™ªç©å¸ˆèµ„æ–™** (`/player/profile`)

#### éªŒæ”¶æ ‡å‡†
- âœ… ç”¨æˆ·å¯ä»¥ç”³è¯·æˆä¸ºé™ªç©å¸ˆ
- âœ… é™ªç©å¸ˆå¯ä»¥åœ¨è®¢å•å¤§å…æ¥å•
- âœ… é™ªç©å¸ˆå¯ä»¥ç®¡ç†è®¢å•çŠ¶æ€
- âœ… é™ªç©å¸ˆå¯ä»¥æŸ¥çœ‹æ”¶ç›Š

---

### ç¬¬ä¸‰é˜¶æ®µï¼šå¢å¼ºåŠŸèƒ½ï¼ˆ2å‘¨ï¼‰

**ç›®æ ‡**: å®Œå–„ç”¨æˆ·ä½“éªŒå’Œé«˜çº§åŠŸèƒ½

#### åç«¯ä»»åŠ¡
- [ ] **é¦–é¡µåŠŸèƒ½**
  - [ ] GET /api/v1/user/homeï¼ˆé¦–é¡µæ•°æ®ï¼‰
  - [ ] GET /api/v1/user/gamesï¼ˆæ¸¸æˆåˆ—è¡¨ï¼‰
  - [ ] GET /api/v1/user/searchï¼ˆæœç´¢åŠŸèƒ½ï¼‰
- [ ] **ä¸ªäººä¸­å¿ƒ**
  - [ ] GET /api/v1/user/profileï¼ˆä¸ªäººä¿¡æ¯ï¼‰
  - [ ] PUT /api/v1/user/profileï¼ˆæ›´æ–°ä¿¡æ¯ï¼‰
  - [ ] POST /api/v1/user/profile/change-passwordï¼ˆä¿®æ”¹å¯†ç ï¼‰
  - [ ] GET /api/v1/user/walletï¼ˆé’±åŒ…ä¿¡æ¯ï¼‰
- [ ] **æç°åŠŸèƒ½**
  - [ ] POST /api/v1/player/earnings/withdrawï¼ˆç”³è¯·æç°ï¼‰
  - [ ] GET /api/v1/player/earnings/withdraw-historyï¼ˆæç°è®°å½•ï¼‰
- [ ] **æ•°æ®ç»Ÿè®¡**
  - [ ] GET /api/v1/player/statsï¼ˆä¸ªäººç»Ÿè®¡ï¼‰
  - [ ] GET /api/v1/player/stats/recent-ordersï¼ˆæœ€è¿‘è®¢å•ï¼‰

#### å‰ç«¯ä»»åŠ¡
- [ ] **é¦–é¡µ** (`/`)
- [ ] **æ¸¸æˆåˆ—è¡¨** (`/games`)
- [ ] **ä¸ªäººä¸­å¿ƒ** (`/user/profile`)
- [ ] **é’±åŒ…ç®¡ç†** (`/user/wallet`)
- [ ] **é™ªç©å¸ˆæ•°æ®ç»Ÿè®¡** (`/player/stats`)
- [ ] **æœç´¢åŠŸèƒ½**ï¼ˆå…¨å±€æœç´¢ï¼‰

#### éªŒæ”¶æ ‡å‡†
- âœ… é¦–é¡µå±•ç¤ºçƒ­é—¨æ¸¸æˆå’Œæ¨èé™ªç©å¸ˆ
- âœ… æœç´¢åŠŸèƒ½å¯ç”¨
- âœ… ä¸ªäººä¸­å¿ƒåŠŸèƒ½å®Œå–„
- âœ… æç°åŠŸèƒ½å¯ç”¨
- âœ… æ•°æ®ç»Ÿè®¡å±•ç¤º

---

### ç¬¬å››é˜¶æ®µï¼šä¼˜åŒ–å’Œå®Œå–„ï¼ˆ1å‘¨ï¼‰

**ç›®æ ‡**: æ€§èƒ½ä¼˜åŒ–ã€ä½“éªŒä¼˜åŒ–ã€è¡¥å……æ–‡æ¡£

#### ä¼˜åŒ–ä»»åŠ¡
- [ ] **æ€§èƒ½ä¼˜åŒ–**
  - [ ] åˆ—è¡¨æ¥å£åˆ†é¡µä¼˜åŒ–
  - [ ] å›¾ç‰‡ CDN åŠ é€Ÿ
  - [ ] Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®
  - [ ] SQL æŸ¥è¯¢ä¼˜åŒ–
- [ ] **ä½“éªŒä¼˜åŒ–**
  - [ ] éª¨æ¶å±åŠ è½½
  - [ ] å›¾ç‰‡æ‡’åŠ è½½
  - [ ] æ— é™æ»šåŠ¨
  - [ ] ä¹è§‚æ›´æ–°
- [ ] **ç§»åŠ¨ç«¯é€‚é…**
  - [ ] å“åº”å¼å¸ƒå±€
  - [ ] è§¦æ‘¸æ‰‹åŠ¿æ”¯æŒ
  - [ ] ç§»åŠ¨ç«¯å¯¼èˆª
- [ ] **æ–‡æ¡£å®Œå–„**
  - [ ] API æ–‡æ¡£ï¼ˆSwaggerï¼‰
  - [ ] ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ
  - [ ] å¼€å‘æ–‡æ¡£æ›´æ–°

#### éªŒæ”¶æ ‡å‡†
- âœ… é¦–å±åŠ è½½æ—¶é—´ < 2s
- âœ… ç§»åŠ¨ç«¯ä½“éªŒæµç•…
- âœ… æ–‡æ¡£é½å…¨

---

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ

```yaml
è¯­è¨€: Go 1.24
æ¡†æ¶: Gin
ORM: GORM
æ•°æ®åº“: 
  - PostgreSQL (ä¸»åº“)
  - SQLite (å¼€å‘)
  - Redis (ç¼“å­˜)
è®¤è¯: JWT
APIæ–‡æ¡£: Swagger
æ—¥å¿—: Zap
ç›‘æ§: Prometheus (å¯é€‰)
```

### å‰ç«¯æŠ€æœ¯æ ˆ

```yaml
è¯­è¨€: TypeScript 5
æ¡†æ¶: React 18
æ„å»º: Vite
æ ·å¼: Less + Arco Design
çŠ¶æ€: React Context
è·¯ç”±: React Router v6
HTTP: Fetch API
å›¾è¡¨: ECharts (æ”¶ç›Šè¶‹åŠ¿ç­‰)
æ”¯ä»˜: å¾®ä¿¡/æ”¯ä»˜å® SDK
```

### ç¬¬ä¸‰æ–¹æœåŠ¡

```yaml
æ”¯ä»˜:
  - å¾®ä¿¡æ”¯ä»˜
  - æ”¯ä»˜å®æ”¯ä»˜
å­˜å‚¨:
  - é˜¿é‡Œäº‘ OSS (å›¾ç‰‡)
  - CDN åŠ é€Ÿ
é€šçŸ¥:
  - çŸ­ä¿¡æœåŠ¡ (è®¢å•é€šçŸ¥)
  - é‚®ä»¶æœåŠ¡ (å¯é€‰)
å®æ—¶é€šä¿¡:
  - WebSocket (èŠå¤©ï¼Œå¯é€‰)
```

---

## ğŸ“ å¼€å‘è§„èŒƒ

### API è§„èŒƒ

1. **RESTful è®¾è®¡**
   - GET: æŸ¥è¯¢
   - POST: åˆ›å»º
   - PUT: æ›´æ–°
   - DELETE: åˆ é™¤

2. **ç»Ÿä¸€å“åº”æ ¼å¼**
```json
{
  "success": true,
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": { }
}
```

3. **é”™è¯¯å¤„ç†**
```json
{
  "success": false,
  "code": 400,
  "message": "å‚æ•°é”™è¯¯",
  "errors": ["å­—æ®µ xxx ä¸èƒ½ä¸ºç©º"]
}
```

4. **åˆ†é¡µæ ¼å¼**
```json
{
  "items": [],
  "total": 100,
  "page": 1,
  "pageSize": 20,
  "totalPages": 5
}
```

### å‰ç«¯è§„èŒƒ

1. **ç»„ä»¶å‘½å**: PascalCase
2. **æ–‡ä»¶å‘½å**: ç»„ä»¶ç”¨ PascalCaseï¼Œå·¥å…·ç”¨ camelCase
3. **æ ·å¼**: ä½¿ç”¨ CSS Modules
4. **ç±»å‹**: å…¨éƒ¨ä½¿ç”¨ TypeScript
5. **çŠ¶æ€ç®¡ç†**: Context + Hooks
6. **è·¯ç”±**: ç»Ÿä¸€åœ¨ `routes.tsx` å®šä¹‰

---

## ğŸ” å®‰å…¨è€ƒè™‘

### åç«¯å®‰å…¨

- [ ] **è®¤è¯æˆæƒ**
  - JWT Token éªŒè¯
  - è§’è‰²æƒé™æ§åˆ¶
  - æ¥å£è®¿é—®é™æµ
- [ ] **æ•°æ®éªŒè¯**
  - å‚æ•°æ ¡éªŒ
  - SQL æ³¨å…¥é˜²æŠ¤
  - XSS é˜²æŠ¤
- [ ] **æ”¯ä»˜å®‰å…¨**
  - ç­¾åéªŒè¯
  - é˜²é‡æ”¾æ”»å‡»
  - é‡‘é¢æ ¡éªŒ
- [ ] **æ•æ„Ÿæ•°æ®**
  - å¯†ç åŠ å¯†å­˜å‚¨
  - æ”¯ä»˜ä¿¡æ¯åŠ å¯†
  - æ—¥å¿—è„±æ•

### å‰ç«¯å®‰å…¨

- [ ] XSS é˜²æŠ¤ï¼ˆReact è‡ªå¸¦ï¼‰
- [ ] CSRF Token
- [ ] æ•æ„Ÿä¿¡æ¯ä¸å­˜æœ¬åœ°
- [ ] HTTPS å¼ºåˆ¶

---

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

### ä¸šåŠ¡æŒ‡æ ‡

- æ—¥æ´»ç”¨æˆ·æ•°ï¼ˆDAUï¼‰
- è®¢å•é‡
- æˆäº¤é¢
- è½¬åŒ–ç‡
- é™ªç©å¸ˆæ´»è·ƒåº¦

### æŠ€æœ¯æŒ‡æ ‡

- API å“åº”æ—¶é—´
- é”™è¯¯ç‡
- æ•°æ®åº“è¿æ¥æ•°
- Redis å‘½ä¸­ç‡
- æœåŠ¡å™¨è´Ÿè½½

---

## ğŸ“ æ€»ç»“

### å¼€å‘å‘¨æœŸ

| é˜¶æ®µ | æ—¶é—´ | ä¸»è¦å†…å®¹ |
|------|------|----------|
| **ç¬¬ä¸€é˜¶æ®µ** | 2å‘¨ | ç”¨æˆ·ç«¯åŸºç¡€åŠŸèƒ½ |
| **ç¬¬äºŒé˜¶æ®µ** | 2å‘¨ | é™ªç©å¸ˆç«¯åŠŸèƒ½ |
| **ç¬¬ä¸‰é˜¶æ®µ** | 2å‘¨ | å¢å¼ºåŠŸèƒ½ |
| **ç¬¬å››é˜¶æ®µ** | 1å‘¨ | ä¼˜åŒ–å®Œå–„ |
| **æ€»è®¡** | **7å‘¨** | ç”¨æˆ·ä¾§å®Œæ•´åŠŸèƒ½ |

### æ ¸å¿ƒä¼˜å…ˆçº§

**P0 (å¿…é¡»å®Œæˆ)**:
- é™ªç©å¸ˆåˆ—è¡¨å’Œè¯¦æƒ…
- è®¢å•åˆ›å»ºå’Œç®¡ç†
- æ”¯ä»˜åŠŸèƒ½
- é™ªç©å¸ˆæ¥å•

**P1 (é‡è¦)**:
- è¯„ä»·ç³»ç»Ÿ
- æ”¶ç›Šç®¡ç†
- ä¸ªäººä¸­å¿ƒ

**P2 (ä¼˜åŒ–)**:
- é¦–é¡µæ¨è
- æœç´¢åŠŸèƒ½
- æ•°æ®ç»Ÿè®¡

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¶é—´**: 2025-10-30  
**ç»´æŠ¤äººå‘˜**: GameLink Team


