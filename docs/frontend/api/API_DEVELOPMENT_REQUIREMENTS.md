# GameLink å‰ç«¯æ¥å£å¼€å‘éœ€æ±‚

## ğŸ“Š æ¥å£å¼€å‘çŠ¶æ€æ¦‚è§ˆ

### åç«¯æ¥å£ç»Ÿè®¡

- **è®¤è¯æ¥å£**: 5ä¸ª
- **ç®¡ç†ç«¯æ¥å£**: 37ä¸ª
- **ç”¨æˆ·ç«¯æ¥å£**: 0ä¸ªï¼ˆâŒ å°šæœªå¼€å‘ï¼‰
- **æ€»è®¡**: 42ä¸ªæ¥å£

---

## ğŸ”´ ç®¡ç†ç«¯ç¼ºå¤±æ¥å£ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

### 1. è®¤è¯æ¨¡å—

#### âŒ æ³¨å†Œæ¥å£

```typescript
POST / auth / register;
```

**çŠ¶æ€**: æœªå®ç°  
**ä¼˜å…ˆçº§**: ğŸ”´ é«˜  
**è¯´æ˜**: å‰ç«¯å·²æœ‰ Register é¡µé¢ï¼Œä½†ç¼ºå°‘ API è°ƒç”¨

**éœ€è¦æ·»åŠ åˆ°**: `src/services/api/auth.ts`

```typescript
register: (data: RegisterRequest): Promise<LoginResult> => {
  return apiClient.post('/api/v1/auth/register', data);
};
```

**ç±»å‹å®šä¹‰**: `src/types/auth.ts`

```typescript
export interface RegisterRequest {
  email: string;
  name: string;
  password: string;
  phone?: string;
}
```

---

### 2. é™ªç©å¸ˆæ¨¡å—

#### âŒ è·å–é™ªç©å¸ˆçš„æ¸¸æˆåˆ—è¡¨

```typescript
GET / admin / players / { id } / games;
```

**çŠ¶æ€**: æœªå®ç°  
**ä¼˜å…ˆçº§**: ğŸ”´ é«˜  
**è¯´æ˜**: é™ªç©å¸ˆè¯¦æƒ…é¡µéœ€è¦å±•ç¤ºå…¶æ“…é•¿çš„æ¸¸æˆåˆ—è¡¨

**éœ€è¦æ·»åŠ åˆ°**: `src/services/api/user.ts` (playerApi)

```typescript
getPlayerGames: (id: number): Promise<Game[]> => {
  return apiClient.get(`/api/v1/admin/players/${id}/games`);
};
```

#### âŒ ç®¡ç†é™ªç©å¸ˆæŠ€èƒ½æ ‡ç­¾

```typescript
GET / admin / players / { id } / skill - tags;
POST / admin / players / { id } / skill - tags;
DELETE / admin / players / { id } / skill - tags / { tagId };
```

**çŠ¶æ€**: æœªå®ç°  
**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­  
**è¯´æ˜**: é™ªç©å¸ˆæŠ€èƒ½æ ‡ç­¾ç®¡ç†ï¼ˆå¦‚"é«˜èƒœç‡"ã€"æ¸©æŸ”"ã€"å¹½é»˜"ç­‰ï¼‰

**éœ€è¦æ·»åŠ åˆ°**: `src/services/api/user.ts` (playerApi)

```typescript
getSkillTags: (id: number): Promise<SkillTag[]> => {
  return apiClient.get(`/api/v1/admin/players/${id}/skill-tags`);
},
addSkillTag: (id: number, data: { tag_name: string }): Promise<void> => {
  return apiClient.post(`/api/v1/admin/players/${id}/skill-tags`, data);
},
removeSkillTag: (id: number, tagId: number): Promise<void> => {
  return apiClient.delete(`/api/v1/admin/players/${id}/skill-tags/${tagId}`);
}
```

---

### 3. ç»Ÿè®¡æŠ¥è¡¨æ¨¡å—

#### âŒ ä»ªè¡¨æ¿ç»Ÿè®¡

```typescript
GET / admin / stats / dashboard;
```

**çŠ¶æ€**: æœªå®ç°  
**ä¼˜å…ˆçº§**: ğŸ”´ é«˜  
**è¯´æ˜**: ç®¡ç†åå°é¦–é¡µ Dashboard éœ€è¦çš„ç»¼åˆç»Ÿè®¡æ•°æ®

**éœ€è¦åˆ›å»º**: `src/services/api/stats.ts`

```typescript
export const statsApi = {
  getDashboard: (): Promise<DashboardStats> => {
    return apiClient.get('/api/v1/admin/stats/dashboard');
  },
};
```

**é¢„æœŸè¿”å›æ•°æ®ç»“æ„**:

```typescript
interface DashboardStats {
  total_users: number;
  total_orders: number;
  total_revenue_cents: number;
  active_players: number;
  today_stats: {
    new_users: number;
    new_orders: number;
    revenue_cents: number;
  };
  // ...æ›´å¤šç»Ÿè®¡å­—æ®µ
}
```

#### âŒ å®¡è®¡ç»Ÿè®¡ï¼ˆæ¦‚è§ˆï¼‰

```typescript
GET / admin / stats / audit / overview;
```

**çŠ¶æ€**: æœªå®ç°  
**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­  
**è¯´æ˜**: å®¡è®¡æ¨¡å—çš„ç»Ÿè®¡æ•°æ®æ¦‚è§ˆ

#### âŒ å®¡è®¡è¶‹åŠ¿

```typescript
GET / admin / stats / audit / trend;
```

**çŠ¶æ€**: æœªå®ç°  
**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­  
**è¯´æ˜**: å®¡è®¡æ•°æ®çš„æ—¶é—´è¶‹åŠ¿åˆ†æ

#### âŒ è¥æ”¶è¶‹åŠ¿

```typescript
GET / admin / stats / revenue - trend;
```

**çŠ¶æ€**: æœªå®ç°  
**ä¼˜å…ˆçº§**: ğŸ”´ é«˜  
**è¯´æ˜**: è¥æ”¶è¶‹åŠ¿å›¾è¡¨æ•°æ®

#### âŒ TOP é™ªç©å¸ˆæ¦œå•

```typescript
GET / admin / stats / top - players;
```

**çŠ¶æ€**: æœªå®ç°  
**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­  
**è¯´æ˜**: æ ¹æ®è®¢å•é‡ã€è¯„åˆ†ç­‰ç»´åº¦çš„é™ªç©å¸ˆæ’è¡Œæ¦œ

#### âŒ ç”¨æˆ·å¢é•¿è¶‹åŠ¿

```typescript
GET / admin / stats / user - growth;
```

**çŠ¶æ€**: æœªå®ç°  
**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­  
**è¯´æ˜**: ç”¨æˆ·å¢é•¿è¶‹åŠ¿å›¾è¡¨æ•°æ®

---

## ğŸ”µ ç”¨æˆ·ç«¯æ¥å£ï¼ˆå…¨éƒ¨ç¼ºå¤±ï¼Œæé«˜ä¼˜å…ˆçº§ï¼‰

### æ¦‚è¿°

âš ï¸ **åç«¯ç›®å‰æ²¡æœ‰ä»»ä½•ç”¨æˆ·ç«¯æ¥å£ï¼** æ‰€æœ‰æ¥å£éƒ½æ˜¯ `/admin/` å¼€å¤´çš„ç®¡ç†ç«¯æ¥å£ã€‚

ç”¨æˆ·ç«¯å‰ç«¯éœ€è¦ç‹¬ç«‹çš„ç”¨æˆ·ç«¯æ¥å£ï¼Œå»ºè®®åç«¯æ–°å¢ä»¥ä¸‹æ¨¡å—ï¼š

---

### 1. ç”¨æˆ·ç«¯ - æ¸¸æˆæµè§ˆ

#### ğŸ”µ è·å–æ¸¸æˆåˆ—è¡¨ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / games;
```

**åŠŸèƒ½**: ç”¨æˆ·æµè§ˆå¯é¢„çº¦çš„æ¸¸æˆåˆ—è¡¨
**ç­›é€‰å‚æ•°**:

- `category`: æ¸¸æˆåˆ†ç±»
- `keyword`: å…³é”®è¯æœç´¢
- `sort_by`: æ’åºæ–¹å¼ï¼ˆçƒ­åº¦ã€æ–°ä¸Šæ¶ç­‰ï¼‰

#### ğŸ”µ è·å–æ¸¸æˆè¯¦æƒ…ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / games / { id };
```

**åŠŸèƒ½**: æŸ¥çœ‹æ¸¸æˆè¯¦ç»†ä¿¡æ¯å’Œå¯ç”¨é™ªç©å¸ˆ

---

### 2. ç”¨æˆ·ç«¯ - é™ªç©å¸ˆæµè§ˆ

#### ğŸ”µ è·å–é™ªç©å¸ˆåˆ—è¡¨ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / players;
```

**åŠŸèƒ½**: ç”¨æˆ·æµè§ˆé™ªç©å¸ˆåˆ—è¡¨
**ç­›é€‰å‚æ•°**:

- `game_id`: æŒ‰æ¸¸æˆç­›é€‰
- `min_rating`: æœ€ä½è¯„åˆ†
- `max_price_cents`: æœ€é«˜ä»·æ ¼
- `skill_tags[]`: æŠ€èƒ½æ ‡ç­¾
- `sort_by`: æ’åºï¼ˆè¯„åˆ†ã€ä»·æ ¼ã€è®¢å•é‡ï¼‰

#### ğŸ”µ è·å–é™ªç©å¸ˆè¯¦æƒ…ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / players / { id };
```

**åŠŸèƒ½**: æŸ¥çœ‹é™ªç©å¸ˆè¯¦ç»†èµ„æ–™ã€è¯„ä»·ã€æ“…é•¿æ¸¸æˆ

#### ğŸ”µ è·å–é™ªç©å¸ˆè¯„ä»·ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / players / { id } / reviews;
```

**åŠŸèƒ½**: æŸ¥çœ‹é™ªç©å¸ˆçš„ç”¨æˆ·è¯„ä»·åˆ—è¡¨

---

### 3. ç”¨æˆ·ç«¯ - è®¢å•ç®¡ç†

#### ğŸ”µ åˆ›å»ºè®¢å•ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
POST / api / v1 / orders;
```

**åŠŸèƒ½**: ç”¨æˆ·é¢„çº¦é™ªç©æœåŠ¡

#### ğŸ”µ æˆ‘çš„è®¢å•åˆ—è¡¨ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / me / orders;
```

**åŠŸèƒ½**: æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„æ‰€æœ‰è®¢å•
**ç­›é€‰å‚æ•°**:

- `status`: è®¢å•çŠ¶æ€
- `date_from`, `date_to`: æ—¶é—´èŒƒå›´

#### ğŸ”µ è®¢å•è¯¦æƒ…ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / orders / { id };
```

**åŠŸèƒ½**: æŸ¥çœ‹è®¢å•è¯¦ç»†ä¿¡æ¯ï¼ˆéœ€éªŒè¯è®¢å•æ‰€å±ç”¨æˆ·ï¼‰

#### ğŸ”µ å–æ¶ˆè®¢å•ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
POST / api / v1 / orders / { id } / cancel;
```

**åŠŸèƒ½**: ç”¨æˆ·å–æ¶ˆè‡ªå·±çš„è®¢å•

#### ğŸ”µ ç¡®è®¤å®Œæˆè®¢å•ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
POST / api / v1 / orders / { id } / complete;
```

**åŠŸèƒ½**: ç”¨æˆ·ç¡®è®¤è®¢å•å·²å®Œæˆ

---

### 4. ç”¨æˆ·ç«¯ - è¯„ä»·ç³»ç»Ÿ

#### ğŸ”µ æäº¤è¯„ä»·ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
POST / api / v1 / orders / { orderId } / review;
```

**åŠŸèƒ½**: ç”¨æˆ·å¯¹å®Œæˆçš„è®¢å•è¿›è¡Œè¯„ä»·

**è¯·æ±‚ä½“**:

```typescript
{
  rating: number;        // 1-5 æ˜Ÿ
  comment: string;       // è¯„ä»·å†…å®¹
  tags: string[];        // è¯„ä»·æ ‡ç­¾ï¼ˆå¦‚"å‡†æ—¶"ã€"æœåŠ¡å¥½"ï¼‰
}
```

#### ğŸ”µ ä¿®æ”¹è¯„ä»·ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
PUT / api / v1 / reviews / { id };
```

**åŠŸèƒ½**: ç”¨æˆ·ä¿®æ”¹è‡ªå·±çš„è¯„ä»·

#### ğŸ”µ åˆ é™¤è¯„ä»·ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
DELETE / api / v1 / reviews / { id };
```

**åŠŸèƒ½**: ç”¨æˆ·åˆ é™¤è‡ªå·±çš„è¯„ä»·

---

### 5. ç”¨æˆ·ç«¯ - æ”¯ä»˜ç³»ç»Ÿ

#### ğŸ”µ åˆ›å»ºæ”¯ä»˜ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
POST / api / v1 / payments;
```

**åŠŸèƒ½**: ç”¨æˆ·ä¸ºè®¢å•å‘èµ·æ”¯ä»˜

#### ğŸ”µ æ”¯ä»˜çŠ¶æ€æŸ¥è¯¢ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / payments / { id };
```

**åŠŸèƒ½**: æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€

#### ğŸ”µ æˆ‘çš„æ”¯ä»˜è®°å½•ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / me / payments;
```

**åŠŸèƒ½**: æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„æ”¯ä»˜è®°å½•

---

### 6. ç”¨æˆ·ç«¯ - ä¸ªäººä¸­å¿ƒ

#### ğŸ”µ è·å–ä¸ªäººä¿¡æ¯ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
GET / api / v1 / me;
```

**åŠŸèƒ½**: è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯

#### ğŸ”µ æ›´æ–°ä¸ªäººä¿¡æ¯ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
PUT / api / v1 / me;
```

**åŠŸèƒ½**: æ›´æ–°ä¸ªäººèµ„æ–™ï¼ˆæ˜µç§°ã€å¤´åƒã€æ‰‹æœºç­‰ï¼‰

#### ğŸ”µ ä¿®æ”¹å¯†ç ï¼ˆç”¨æˆ·ç«¯ï¼‰

```typescript
PUT / api / v1 / me / password;
```

**åŠŸèƒ½**: ç”¨æˆ·ä¿®æ”¹å¯†ç 

#### ğŸ”µ æˆ‘çš„æ”¶è—ï¼ˆé™ªç©å¸ˆï¼‰

```typescript
GET / api / v1 / me / favorites;
POST / api / v1 / me / favorites;
DELETE / api / v1 / me / favorites / { playerId };
```

**åŠŸèƒ½**: ç”¨æˆ·æ”¶è—å–œæ¬¢çš„é™ªç©å¸ˆ

---

## ğŸ“‹ å‰ç«¯éœ€è¦åˆ›å»ºçš„æ–°æ–‡ä»¶

### 1. ç»Ÿè®¡ API æœåŠ¡

**æ–‡ä»¶**: `src/services/api/stats.ts`

```typescript
// ç®¡ç†ç«¯ç»Ÿè®¡æ¥å£
export const statsApi = {
  getDashboard: () => { ... },
  getRevenueTrend: () => { ... },
  getUserGrowth: () => { ... },
  getTopPlayers: () => { ... },
  getAuditOverview: () => { ... },
  getAuditTrend: () => { ... },
}
```

### 2. ç”¨æˆ·ç«¯ API æœåŠ¡

**ç›®å½•**: `src/services/api/client/`

å»ºè®®å°†ç”¨æˆ·ç«¯æ¥å£å•ç‹¬ç»„ç»‡ï¼š

```
src/services/api/
â”œâ”€â”€ admin/           # ç®¡ç†ç«¯æ¥å£ï¼ˆç°æœ‰çš„ï¼‰
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ game.ts
â”‚   â”œâ”€â”€ order.ts
â”‚   â”œâ”€â”€ payment.ts
â”‚   â”œâ”€â”€ review.ts
â”‚   â”œâ”€â”€ user.ts
â”‚   â””â”€â”€ stats.ts (NEW)
â”œâ”€â”€ client/          # ç”¨æˆ·ç«¯æ¥å£ï¼ˆNEWï¼‰
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ game.ts
â”‚   â”œâ”€â”€ player.ts
â”‚   â”œâ”€â”€ order.ts
â”‚   â”œâ”€â”€ payment.ts
â”‚   â”œâ”€â”€ review.ts
â”‚   â””â”€â”€ profile.ts
â””â”€â”€ index.ts
```

### 3. ç±»å‹å®šä¹‰æ›´æ–°

**æ–‡ä»¶**:

- `src/types/stats.ts` (NEW) - ç»Ÿè®¡æ•°æ®ç±»å‹
- `src/types/client/` (NEW) - ç”¨æˆ·ç«¯ç±»å‹å®šä¹‰

---

## ğŸ¯ å®æ–½ä¼˜å…ˆçº§

### é˜¶æ®µ 1: ç®¡ç†ç«¯è¡¥å…¨ï¼ˆ1-2å¤©ï¼‰

1. âœ… å®ç°æ³¨å†Œæ¥å£ API è°ƒç”¨
2. âœ… å®ç° Dashboard ç»Ÿè®¡æ¥å£
3. âœ… å®ç°é™ªç©å¸ˆæ¸¸æˆåˆ—è¡¨æ¥å£
4. â¸ï¸ å®ç°è¥æ”¶è¶‹åŠ¿æ¥å£

### é˜¶æ®µ 2: ç”¨æˆ·ç«¯æ ¸å¿ƒåŠŸèƒ½ï¼ˆ3-5å¤©ï¼‰

1. âœ… æ¸¸æˆæµè§ˆ
2. âœ… é™ªç©å¸ˆæµè§ˆå’Œæœç´¢
3. âœ… è®¢å•åˆ›å»ºå’Œç®¡ç†
4. âœ… æ”¯ä»˜æµç¨‹

### é˜¶æ®µ 3: ç”¨æˆ·ç«¯å¢å¼ºåŠŸèƒ½ï¼ˆ2-3å¤©ï¼‰

1. âœ… è¯„ä»·ç³»ç»Ÿ
2. âœ… ä¸ªäººä¸­å¿ƒ
3. âœ… æ”¶è—åŠŸèƒ½

### é˜¶æ®µ 4: ç®¡ç†ç«¯é«˜çº§ç»Ÿè®¡ï¼ˆ2-3å¤©ï¼‰

1. âœ… å®¡è®¡ç»Ÿè®¡
2. âœ… ç”¨æˆ·å¢é•¿åˆ†æ
3. âœ… TOP æ¦œå•

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. æƒé™æ§åˆ¶

- ç®¡ç†ç«¯æ¥å£ï¼ˆ`/admin/*`ï¼‰éœ€è¦éªŒè¯ç®¡ç†å‘˜æƒé™
- ç”¨æˆ·ç«¯æ¥å£ï¼ˆ`/api/v1/*`ï¼‰éœ€è¦éªŒè¯ç”¨æˆ·èº«ä»½
- éƒ¨åˆ†ç”¨æˆ·ç«¯æ¥å£ï¼ˆå¦‚æ¸¸æˆåˆ—è¡¨ï¼‰å¯èƒ½å…è®¸åŒ¿åè®¿é—®

### 2. æ•°æ®éš”ç¦»

- ç”¨æˆ·ç«¯åªèƒ½è®¿é—®è‡ªå·±çš„è®¢å•ã€æ”¯ä»˜ã€è¯„ä»·
- ç®¡ç†ç«¯å¯ä»¥è®¿é—®æ‰€æœ‰æ•°æ®

### 3. API å‘½åè§„èŒƒ

- ç®¡ç†ç«¯ï¼š`/admin/{resource}`
- ç”¨æˆ·ç«¯ï¼š`/api/v1/{resource}` æˆ– `/api/v1/me/{resource}`

### 4. å‰ç«¯è·¯ç”±è§„åˆ’

```
ç®¡ç†ç«¯ï¼ˆAdminï¼‰: /admin/*
  - /admin/dashboard
  - /admin/users
  - /admin/orders
  - /admin/games
  - /admin/players
  - /admin/payments
  - /admin/reports

ç”¨æˆ·ç«¯ï¼ˆClientï¼‰: /* æˆ– /app/*
  - /
  - /games
  - /players
  - /orders
  - /profile
  - /favorites
```

---

## âœ… ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **åç«¯å¼€å‘**ï¼šæ–°å¢ç”¨æˆ·ç«¯æ¥å£ï¼ˆ37ä¸ªï¼‰
2. **å‰ç«¯å¼€å‘**ï¼š
   - è¡¥å…¨ç®¡ç†ç«¯ç¼ºå¤±æ¥å£è°ƒç”¨ï¼ˆ9ä¸ªï¼‰
   - å¼€å‘ç”¨æˆ·ç«¯å®Œæ•´ API å±‚ï¼ˆ37ä¸ªï¼‰
   - å¼€å‘ç”¨æˆ·ç«¯é¡µé¢å’Œç»„ä»¶

**é¢„è®¡æ€»å·¥ä½œé‡**: 10-15 ä¸ªå·¥ä½œæ—¥

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¶é—´**: 2025-10-28  
**æœ€åæ›´æ–°**: 2025-10-28
