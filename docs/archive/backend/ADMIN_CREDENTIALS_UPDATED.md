# âœ… ç®¡ç†å‘˜è´¦æˆ·å·²æ›´æ–°

## ğŸ” å”¯ä¸€çš„è¶…çº§ç®¡ç†å‘˜è´¦æˆ·

ç³»ç»Ÿç°åœ¨åªåˆå§‹åŒ–**ä¸€ä¸ª**è¶…çº§ç®¡ç†å‘˜è´¦æˆ·ï¼š

```
é‚®ç®±ï¼šsuperAdmin@GameLink.com
å¯†ç ï¼šadmin123
```

---

## ğŸ“ æ›´æ”¹å†…å®¹

### 1. è¿ç§»é€»è¾‘æ›´æ–° (`internal/db/migrate.go`)

**ä¿®æ”¹å‰**ï¼š
```go
email = "admin@gamelink.local"
password = "Admin@123456"
```

**ä¿®æ”¹å**ï¼š
```go
email = "superAdmin@GameLink.com"
password = "admin123"
```

### 2. ç§å­æ•°æ®æ›´æ–° (`internal/db/seed.go`)

**ç§»é™¤äº†**ï¼š
```go
{Key: "adminA", Email: "admin@gamelink.com", Phone: "13800138005", Name: "ç³»ç»Ÿç®¡ç†å‘˜", Role: model.RoleAdmin, Password: "Admin@123456"}
```

**åŸå› **ï¼šé¿å…æ··æ·†ï¼Œåªä¿ç•™ä¸€ä¸ªè¶…çº§ç®¡ç†å‘˜è´¦æˆ·ã€‚

### 3. æ–‡æ¡£æ›´æ–° (`docs/super-admin.md`)

å·²æ›´æ–°é»˜è®¤å‡­è¯è¯´æ˜ã€‚

---

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### æ­¥éª¤ 1ï¼šåˆ é™¤æ—§æ•°æ®åº“ï¼ˆå¦‚æœå­˜åœ¨ï¼‰

```powershell
# åˆ é™¤æ—§æ•°æ®åº“æ–‡ä»¶
Remove-Item C:\Users\a2778\Desktop\code\GameLink\backend\var\dev.db -ErrorAction SilentlyContinue
```

### æ­¥éª¤ 2ï¼šé‡å¯æœåŠ¡

æœåŠ¡ä¼šè‡ªåŠ¨åˆ›å»ºæ–°æ•°æ®åº“å¹¶åˆå§‹åŒ–è¶…çº§ç®¡ç†å‘˜è´¦æˆ·ã€‚

```powershell
cd C:\Users\a2778\Desktop\code\GameLink\backend
$env:ADMIN_AUTH_MODE="jwt"
go run .\cmd\user-service\main.go
```

### æ­¥éª¤ 3ï¼šç™»å½•

åœ¨å‰ç«¯æˆ– Postman ä¸­ä½¿ç”¨æ–°å‡­è¯ç™»å½•ï¼š

```json
{
  "email": "superAdmin@GameLink.com",
  "password": "admin123"
}
```

---

## ğŸ§ª å¿«é€Ÿæµ‹è¯•

è¿è¡Œæ­¤è„šæœ¬éªŒè¯æ–°è´¦æˆ·ï¼š

```powershell
cd C:\Users\a2778\Desktop\code\GameLink\backend
.\test-new-admin.ps1
```

---

## ğŸ“Š è´¦æˆ·å¯¹æ¯”

| ç‰ˆæœ¬ | é‚®ç®± | å¯†ç  | è¯´æ˜ |
|------|------|------|------|
| **æ—§ç‰ˆ** | `admin@gamelink.local` | `Admin@123456` | å·²ç§»é™¤ |
| **æ—§ç‰ˆ** | `admin@gamelink.com` | `Admin@123456` | å·²ç§»é™¤ |
| **æ–°ç‰ˆ** âœ… | `superAdmin@GameLink.com` | `admin123` | **å”¯ä¸€ç®¡ç†å‘˜** |

---

## âš ï¸ é‡è¦æç¤º

### å¼€å‘ç¯å¢ƒ
- âœ… ä½¿ç”¨é»˜è®¤å‡­è¯ï¼š`superAdmin@GameLink.com` / `admin123`
- âœ… ç¡®ä¿è®¾ç½®äº† `ADMIN_AUTH_MODE=jwt` ä»¥å¯ç”¨ JWT è®¤è¯

### ç”Ÿäº§ç¯å¢ƒ
- âš ï¸ **å¿…é¡»**è®¾ç½®è‡ªå®šä¹‰å‡­è¯ï¼š
  ```bash
  export APP_ENV=production
  export SUPER_ADMIN_EMAIL="your-admin@company.com"
  export SUPER_ADMIN_PASSWORD="YourStrongPassword123!@#"
  ```
- âš ï¸ ä¸è®¾ç½®ä¼šå¯¼è‡´æœåŠ¡å¯åŠ¨å¤±è´¥ï¼ˆå®‰å…¨ä¿æŠ¤ï¼‰

---

## ğŸ› æ•…éšœæ’é™¤

### Q: ä½¿ç”¨æ–°å‡­è¯ç™»å½•å¤±è´¥ï¼Ÿ
**A**: å¯èƒ½æ˜¯å› ä¸ºæ•°æ®åº“ä¸­è¿˜ä¿ç•™ç€æ—§è´¦æˆ·ã€‚è§£å†³æ–¹æ³•ï¼š
1. åœæ­¢æœåŠ¡
2. åˆ é™¤æ•°æ®åº“æ–‡ä»¶ï¼š`var/dev.db`
3. é‡å¯æœåŠ¡ï¼ˆä¼šè‡ªåŠ¨é‡å»ºï¼‰

### Q: æç¤º 403 æƒé™ä¸è¶³ï¼Ÿ
**A**: ç¡®ä¿ï¼š
1. ä½¿ç”¨æ­£ç¡®çš„é‚®ç®±ï¼š`superAdmin@GameLink.com`ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
2. å·²è®¾ç½® `ADMIN_AUTH_MODE=jwt`
3. Token æœªè¿‡æœŸï¼ˆæœ‰æ•ˆæœŸ 1 å°æ—¶ï¼‰

### Q: æ—§è´¦æˆ·è¿˜èƒ½ç”¨å—ï¼Ÿ
**A**: ä¸èƒ½ã€‚æ—§è´¦æˆ· (`admin@gamelink.local` å’Œ `admin@gamelink.com`) å·²ä»ç§å­æ•°æ®ä¸­ç§»é™¤ã€‚

---

## ğŸ¯ æµ‹è¯•æ£€æŸ¥æ¸…å•

- [ ] åˆ é™¤æ—§æ•°æ®åº“
- [ ] é‡å¯æœåŠ¡
- [ ] ä½¿ç”¨æ–°å‡­è¯ç™»å½•
- [ ] è®¿é—®ç®¡ç†ä»ªè¡¨ç›˜
- [ ] æµ‹è¯•å…¶ä»–ç®¡ç†æ¥å£

å…¨éƒ¨é€šè¿‡åï¼Œç³»ç»Ÿå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼

---

**æ›´æ–°æ—¶é—´**: 2025-10-31  
**æ›´æ”¹åŸå› **: ç»Ÿä¸€ç®¡ç†å‘˜è´¦æˆ·ï¼Œé¿å…æ··æ·†  
**å½±å“èŒƒå›´**: å¼€å‘ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒ

